  [1m[36m (95.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (77.0ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateUsers (20170218065508)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "role" integer, "password_digest" varchar, "remember_digest" varchar, "sex" varchar, "phonenumber" varchar, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_users_on_name" ON "users" ("name")[0m
  [1m[35m (0.3ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_name' AND type='index'

  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170218065508"]]
  [1m[36m (80.1ms)[0m  [1mcommit transaction[0m
Migrating to CreateMessages (20170220073308)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "body" text, "user_id" integer, "chat_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_messages_on_user_id" ON "messages" ("user_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_messages_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_messages_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_messages_on_chat_id" ON "messages" ("chat_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220073308"]]
  [1m[35m (86.7ms)[0m  commit transaction
Migrating to CreateChats (20170220110813)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "chats" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" varchar, "admin_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170220110813"]]
  [1m[35m (87.8ms)[0m  commit transaction
Migrating to ChatsUsers (20170220111114)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "chats_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "chat_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_chats_users_on_user_id" ON "chats_users" ("user_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_chats_users_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_chats_users_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_chats_users_on_chat_id" ON "chats_users" ("chat_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20170220111114"]]
  [1m[36m (86.9ms)[0m  [1mcommit transaction[0m
Migrating to CreateFriendships (20170228114534)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "friendships" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "friend_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_friendships_on_user_id" ON "friendships" ("user_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_friendships_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendships_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_friendships_on_friend_id" ON "friendships" ("friend_id")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170228114534"]]
  [1m[35m (109.5ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_chats_users_on_chat_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_chats_users_on_chat_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_chats_users_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_chats_users_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_friendships_on_friend_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendships_on_friend_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_friendships_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendships_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_messages_on_chat_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_messages_on_chat_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_messages_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_messages_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_name' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user1@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user1"], ["email", "user1@test.com"], ["password_digest", "$2a$10$YUoGxWnN4iJGe5EDlxrcSOchfgF77bzNfg1H0a93w8OyZsYfCnH1a"], ["role", 1], ["sex", "male"], ["phonenumber", "540-762-7380 x8610"], ["status", "judge"], ["created_at", "2018-01-06 06:55:06.195175"], ["updated_at", "2018-01-06 06:55:06.195175"]]
  [1m[36m (75.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user2@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user2"], ["email", "user2@test.com"], ["password_digest", "$2a$10$74NP9EZk4.P4DimQv2tyz.Y1wquBZelz8y4LpOBVUEKEm4Vd9Q7a2"], ["role", 1], ["sex", "female"], ["phonenumber", "1-206-585-0151 x50400"], ["status", "architect"], ["created_at", "2018-01-06 06:55:06.350771"], ["updated_at", "2018-01-06 06:55:06.350771"]]
  [1m[36m (64.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user3@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user3"], ["email", "user3@test.com"], ["password_digest", "$2a$10$h4lTxl.q93jc9mics6vHmONGal8XJpD6wD6oqsY7JthWjqMNyo2jK"], ["role", 1], ["sex", "male"], ["phonenumber", "620.886.5862 x99876"], ["status", "astronomer"], ["created_at", "2018-01-06 06:55:06.502289"], ["updated_at", "2018-01-06 06:55:06.502289"]]
  [1m[36m (68.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user4@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user4"], ["email", "user4@test.com"], ["password_digest", "$2a$10$FJ9ewhT5n71PFS6VvYFOOuA2IyKXCSxdEq1HvYGkTVgoh0IJQFrce"], ["role", 2], ["sex", "female"], ["phonenumber", "949-031-0795"], ["status", "philosopher"], ["created_at", "2018-01-06 06:55:06.683063"], ["updated_at", "2018-01-06 06:55:06.683063"]]
  [1m[36m (109.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user5@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user5"], ["email", "user5@test.com"], ["password_digest", "$2a$10$PMjPVE3yu2d50rnWaXABmOH0mYsqNBavyvDPEPjWcJi18GY2bj5xW"], ["role", 2], ["sex", "male"], ["phonenumber", "1-170-870-3698 x688"], ["status", "judge"], ["created_at", "2018-01-06 06:55:06.893333"], ["updated_at", "2018-01-06 06:55:06.893333"]]
  [1m[36m (54.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user6@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user6"], ["email", "user6@test.com"], ["password_digest", "$2a$10$90zQmf63wOpmF9gdA3HxNeJQjGSiExU7U6vNhGSeDwtlLD71yuN9u"], ["role", 4], ["sex", "male"], ["phonenumber", "222.676.7635"], ["status", "web developer"], ["created_at", "2018-01-06 06:55:07.045448"], ["updated_at", "2018-01-06 06:55:07.045448"]]
  [1m[36m (47.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user7@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user7"], ["email", "user7@test.com"], ["password_digest", "$2a$10$ZtFrIe1knaSd0lApH175O.oZ9uZupozerPm2YXu3egrVDD3vdLDEW"], ["role", 3], ["sex", "male"], ["phonenumber", "1-983-078-5962"], ["status", "biologist"], ["created_at", "2018-01-06 06:55:07.175447"], ["updated_at", "2018-01-06 06:55:07.175447"]]
  [1m[36m (61.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user8@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user8"], ["email", "user8@test.com"], ["password_digest", "$2a$10$.AwGzMorxiyQUm6BdJDA0OInn7PgAIYDg7KW.fvNqWwHm56cwfm.a"], ["role", 2], ["sex", "male"], ["phonenumber", "492.805.4307"], ["status", "doctor"], ["created_at", "2018-01-06 06:55:07.308139"], ["updated_at", "2018-01-06 06:55:07.308139"]]
  [1m[36m (62.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user9@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user9"], ["email", "user9@test.com"], ["password_digest", "$2a$10$ow7pgEK2vZr2suFWkMpyhOIdmOF4aMreCGvDxaP.klC7BVOOFeck2"], ["role", 1], ["sex", "male"], ["phonenumber", "242.990.1151 x1084"], ["status", "attorney at law"], ["created_at", "2018-01-06 06:55:07.433317"], ["updated_at", "2018-01-06 06:55:07.433317"]]
  [1m[36m (59.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user10@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user10"], ["email", "user10@test.com"], ["password_digest", "$2a$10$xil4YdX3DAjuW6F4Ooyjke9gy9n.1Uhbb4NELVNsmhvvojqJTDSDK"], ["role", 2], ["sex", "male"], ["phonenumber", "326-166-6357 x11440"], ["status", "advocate"], ["created_at", "2018-01-06 06:55:07.560772"], ["updated_at", "2018-01-06 06:55:07.560772"]]
  [1m[36m (76.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user11@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user11"], ["email", "user11@test.com"], ["password_digest", "$2a$10$ATrGlqpqHD.c0hSh3/ojm.klySaXF/drpjOHQdN9ycJWh81WC8Z.2"], ["role", 2], ["sex", "male"], ["phonenumber", "(388) 235-0948 x099"], ["status", "agriculturist"], ["created_at", "2018-01-06 06:55:07.699283"], ["updated_at", "2018-01-06 06:55:07.699283"]]
  [1m[36m (48.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user12@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user12"], ["email", "user12@test.com"], ["password_digest", "$2a$10$OGP67LLH2.CLGByyPoC3yuWKrqlPDGXbSG6A5uUcTeE57..vl.eUq"], ["role", 1], ["sex", "male"], ["phonenumber", "522-596-3677 x99665"], ["status", "accountant"], ["created_at", "2018-01-06 06:55:07.833321"], ["updated_at", "2018-01-06 06:55:07.833321"]]
  [1m[36m (59.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user13@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user13"], ["email", "user13@test.com"], ["password_digest", "$2a$10$wwgL8erP7wK55seqNrugV.YUvBiOcwSzX1qUf.jEGZA2Fy9jqb.pK"], ["role", 2], ["sex", "female"], ["phonenumber", "798-270-9393 x3684"], ["status", "chemist"], ["created_at", "2018-01-06 06:55:08.004264"], ["updated_at", "2018-01-06 06:55:08.004264"]]
  [1m[36m (43.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user14@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user14"], ["email", "user14@test.com"], ["password_digest", "$2a$10$V2yK8s/vBEbJrZN30Uh.BusltvAYBhsL55k7o9wHqMG5uz4guITju"], ["role", 2], ["sex", "male"], ["phonenumber", "1-993-057-1113 x702"], ["status", "writer"], ["created_at", "2018-01-06 06:55:08.121885"], ["updated_at", "2018-01-06 06:55:08.121885"]]
  [1m[36m (48.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user15@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user15"], ["email", "user15@test.com"], ["password_digest", "$2a$10$YFU62tSxmvNiopuAF00naurbkoaDjYtBxe4Sd9JzphwJ0Leb7BYb2"], ["role", 2], ["sex", "male"], ["phonenumber", "1-982-731-5135"], ["status", "firefighter"], ["created_at", "2018-01-06 06:55:08.232597"], ["updated_at", "2018-01-06 06:55:08.232597"]]
  [1m[36m (60.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user16@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user16"], ["email", "user16@test.com"], ["password_digest", "$2a$10$FUVXfMMamgWv8rnN2jho0.58ZJuQhGtgM8y9JFRz.5QHrd.tBYyBi"], ["role", 1], ["sex", "female"], ["phonenumber", "776.826.9226"], ["status", "architect"], ["created_at", "2018-01-06 06:55:08.354829"], ["updated_at", "2018-01-06 06:55:08.354829"]]
  [1m[36m (60.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user17@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user17"], ["email", "user17@test.com"], ["password_digest", "$2a$10$NOGcWMzhTEVohSOeuy6JL.JxbNGDdXCrFXA36zLPHXUNnjUXOTX0G"], ["role", 4], ["sex", "female"], ["phonenumber", "749-807-9055 x12734"], ["status", "writer"], ["created_at", "2018-01-06 06:55:08.478500"], ["updated_at", "2018-01-06 06:55:08.478500"]]
  [1m[36m (58.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user18@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user18"], ["email", "user18@test.com"], ["password_digest", "$2a$10$SH0DtS/ShFXtBpp66xOkhuo3ZMKlmK/2zi1LWkPfRekQkZUVtUUvW"], ["role", 4], ["sex", "female"], ["phonenumber", "811-193-5261"], ["status", "judge"], ["created_at", "2018-01-06 06:55:08.657161"], ["updated_at", "2018-01-06 06:55:08.657161"]]
  [1m[36m (57.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user19@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user19"], ["email", "user19@test.com"], ["password_digest", "$2a$10$ejMJn6fj2mS.5A2lGYpQzu9ikXALOhL0RUSMYGI4j9Ht4fXWKaxPm"], ["role", 1], ["sex", "female"], ["phonenumber", "(129) 905-0959"], ["status", "economist"], ["created_at", "2018-01-06 06:55:08.808700"], ["updated_at", "2018-01-06 06:55:08.808700"]]
  [1m[36m (61.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user20@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user20"], ["email", "user20@test.com"], ["password_digest", "$2a$10$r5r1weblU6LjKzz0LmfXouHbaf2Pww9QnGvo75bIPmmvuznMcOBbi"], ["role", 3], ["sex", "male"], ["phonenumber", "(786) 366-6671"], ["status", "agriculturist"], ["created_at", "2018-01-06 06:55:08.972199"], ["updated_at", "2018-01-06 06:55:08.972199"]]
  [1m[36m (53.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user21@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user21"], ["email", "user21@test.com"], ["password_digest", "$2a$10$33ybO3rEFL.O0oFtXjwNwO6jwxPMRtiQMZsWEnYgquxs/nlE1a5e6"], ["role", 4], ["sex", "male"], ["phonenumber", "125-598-4249 x69029"], ["status", "accountant"], ["created_at", "2018-01-06 06:55:09.110526"], ["updated_at", "2018-01-06 06:55:09.110526"]]
  [1m[36m (59.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user22@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user22"], ["email", "user22@test.com"], ["password_digest", "$2a$10$EbBEQWHjQAbQXS2qZ24eaeqy5lW.c75i8FZ3sl3RkfeL8qsJQ3BIm"], ["role", 2], ["sex", "male"], ["phonenumber", "513-175-6582"], ["status", "programmer"], ["created_at", "2018-01-06 06:55:09.270773"], ["updated_at", "2018-01-06 06:55:09.270773"]]
  [1m[36m (44.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user23@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user23"], ["email", "user23@test.com"], ["password_digest", "$2a$10$TlekuXqOsuravvQ9Vkbp9eAC9hw72wVSQW47YFDW3b4EeY./Lk.ei"], ["role", 3], ["sex", "female"], ["phonenumber", "1-394-837-1399"], ["status", "firefighter"], ["created_at", "2018-01-06 06:55:09.404384"], ["updated_at", "2018-01-06 06:55:09.404384"]]
  [1m[36m (100.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user24@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user24"], ["email", "user24@test.com"], ["password_digest", "$2a$10$5O4VjuSIUqQtThx3AHReUejGlHEc.Ow0gYl6o5gJ3l5zb99TQXosa"], ["role", 3], ["sex", "male"], ["phonenumber", "931-879-4127 x193"], ["status", "advocate"], ["created_at", "2018-01-06 06:55:09.569099"], ["updated_at", "2018-01-06 06:55:09.569099"]]
  [1m[36m (90.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user25@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user25"], ["email", "user25@test.com"], ["password_digest", "$2a$10$FgZXwN6mIvRvc8t5es8MzOGrbx5XYqYcN5yO24aax8MLBgAPQmbN6"], ["role", 3], ["sex", "male"], ["phonenumber", "1-395-159-0079"], ["status", "firefighter"], ["created_at", "2018-01-06 06:55:09.762716"], ["updated_at", "2018-01-06 06:55:09.762716"]]
  [1m[36m (74.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user26@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user26"], ["email", "user26@test.com"], ["password_digest", "$2a$10$ROigyQG3TFV5GTvPB7j0yeJ1nYZ6AQJPLBwuxBJpxy1MeYm2IL.JG"], ["role", 3], ["sex", "male"], ["phonenumber", "(602) 432-9636 x2989"], ["status", "teacher"], ["created_at", "2018-01-06 06:55:09.919765"], ["updated_at", "2018-01-06 06:55:09.919765"]]
  [1m[36m (72.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user27@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user27"], ["email", "user27@test.com"], ["password_digest", "$2a$10$fBTMw6QgfVZOhCQUa8g.a.veh.9OGecw8g/.ufKmXhaytusNELXUq"], ["role", 2], ["sex", "female"], ["phonenumber", "1-569-995-3016 x6567"], ["status", "web developer"], ["created_at", "2018-01-06 06:55:10.055550"], ["updated_at", "2018-01-06 06:55:10.055550"]]
  [1m[36m (104.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user28@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user28"], ["email", "user28@test.com"], ["password_digest", "$2a$10$lBBkkK6V0SbzgPdhMkBOUe5RgwBY8.ZnlYSC1qURGJxHPHR3vHwPC"], ["role", 2], ["sex", "male"], ["phonenumber", "630-354-7543 x28630"], ["status", "attorney at law"], ["created_at", "2018-01-06 06:55:10.258605"], ["updated_at", "2018-01-06 06:55:10.258605"]]
  [1m[36m (78.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user29@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user29"], ["email", "user29@test.com"], ["password_digest", "$2a$10$gMCQbTRpfzigludsTX1BoepIfkL33xrXM5uu6LaYNWauRXQ28ZOHm"], ["role", 3], ["sex", "female"], ["phonenumber", "481.946.4780"], ["status", "agriculturist"], ["created_at", "2018-01-06 06:55:10.440282"], ["updated_at", "2018-01-06 06:55:10.440282"]]
  [1m[36m (74.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user30@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user30"], ["email", "user30@test.com"], ["password_digest", "$2a$10$acHftzlm6u8wWRxvh9rFYetWJFbY2oKrAMwG7/43aXzX7UDJY93cq"], ["role", 3], ["sex", "female"], ["phonenumber", "993.074.0766 x97314"], ["status", "accountant"], ["created_at", "2018-01-06 06:55:10.622897"], ["updated_at", "2018-01-06 06:55:10.622897"]]
  [1m[36m (80.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user31@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user31"], ["email", "user31@test.com"], ["password_digest", "$2a$10$q8vmMKrnooQ6hwG6f6FuXO./aiBrPa5Qs6TRu8TcJxY3vxo8kyuDi"], ["role", 3], ["sex", "female"], ["phonenumber", "119-360-8697 x7556"], ["status", "engineer"], ["created_at", "2018-01-06 06:55:10.799394"], ["updated_at", "2018-01-06 06:55:10.799394"]]
  [1m[36m (71.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user32@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user32"], ["email", "user32@test.com"], ["password_digest", "$2a$10$Fd792tn6AofLXaMawORknuUW0CQEfI3yKiMqTcRkCnsuAcCFXlX9e"], ["role", 3], ["sex", "female"], ["phonenumber", "186.456.7330"], ["status", "judge"], ["created_at", "2018-01-06 06:55:10.967016"], ["updated_at", "2018-01-06 06:55:10.967016"]]
  [1m[36m (81.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user33@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user33"], ["email", "user33@test.com"], ["password_digest", "$2a$10$FVfGMNsIEwAMgSXS5SrBM.qMTL4omOEXNt32ijEAfjYA0IFexD3Z6"], ["role", 1], ["sex", "male"], ["phonenumber", "1-710-058-2609 x132"], ["status", "accountant"], ["created_at", "2018-01-06 06:55:11.138019"], ["updated_at", "2018-01-06 06:55:11.138019"]]
  [1m[36m (76.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user34@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user34"], ["email", "user34@test.com"], ["password_digest", "$2a$10$agAsxoc.muXDJT23Q3hiJO6WCZw7b3j1VAbsXFpeEv2e.CVmjSbEa"], ["role", 3], ["sex", "male"], ["phonenumber", "353.008.3351 x109"], ["status", "attorney at law"], ["created_at", "2018-01-06 06:55:11.301984"], ["updated_at", "2018-01-06 06:55:11.301984"]]
  [1m[36m (79.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user35@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user35"], ["email", "user35@test.com"], ["password_digest", "$2a$10$TV/9p2XKx8X4d00bQL8s8u3tk.7pV5aeOrixguaSFzIe6FAaKHVXC"], ["role", 4], ["sex", "male"], ["phonenumber", "781-158-5063 x4161"], ["status", "doctor"], ["created_at", "2018-01-06 06:55:11.443978"], ["updated_at", "2018-01-06 06:55:11.443978"]]
  [1m[36m (59.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user36@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user36"], ["email", "user36@test.com"], ["password_digest", "$2a$10$6zEZkz9e/Iy5m0d3eXVXceXZbi3bnZwonKBo0dxmTm7Tfi0Ih1NnG"], ["role", 2], ["sex", "female"], ["phonenumber", "862.081.4307 x4852"], ["status", "accountant"], ["created_at", "2018-01-06 06:55:11.626422"], ["updated_at", "2018-01-06 06:55:11.626422"]]
  [1m[36m (66.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user37@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user37"], ["email", "user37@test.com"], ["password_digest", "$2a$10$IhFECi/7uN5Pxl1uIR96T.OELLAtmFJUxj3MUeL2eoQgqNTsSxOUe"], ["role", 2], ["sex", "female"], ["phonenumber", "477-226-6437 x893"], ["status", "designer"], ["created_at", "2018-01-06 06:55:11.785884"], ["updated_at", "2018-01-06 06:55:11.785884"]]
  [1m[36m (369.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user38@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user38"], ["email", "user38@test.com"], ["password_digest", "$2a$10$QIMwC3V8Raz56w8XS0LZ2ehLJRK52vlZ/EhoSNCKttA1Gozf5rGGa"], ["role", 3], ["sex", "female"], ["phonenumber", "1-617-365-1539"], ["status", "advocate"], ["created_at", "2018-01-06 06:55:12.227895"], ["updated_at", "2018-01-06 06:55:12.227895"]]
  [1m[36m (98.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user39@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user39"], ["email", "user39@test.com"], ["password_digest", "$2a$10$hgCCOl2Xj3l6Cb4g7xgLMe4665pWqF2DgFDsmQZEcRPO6ZhCxC/2q"], ["role", 1], ["sex", "female"], ["phonenumber", "927.938.5901"], ["status", "web developer"], ["created_at", "2018-01-06 06:55:12.388709"], ["updated_at", "2018-01-06 06:55:12.388709"]]
  [1m[36m (81.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user40@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user40"], ["email", "user40@test.com"], ["password_digest", "$2a$10$lvu8XRypo2.aii.7XCMnY.CGStAG0E0GolLOutwgEE7lJB73cbbta"], ["role", 1], ["sex", "female"], ["phonenumber", "(946) 301-8665"], ["status", "web developer"], ["created_at", "2018-01-06 06:55:12.533609"], ["updated_at", "2018-01-06 06:55:12.533609"]]
  [1m[36m (81.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user41@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user41"], ["email", "user41@test.com"], ["password_digest", "$2a$10$Ez./nij3YmoxyG4K1WJy3etHx4cjiNURA9rxPKvbve51sijb0LDo2"], ["role", 2], ["sex", "female"], ["phonenumber", "1-632-137-8411 x769"], ["status", "musician"], ["created_at", "2018-01-06 06:55:12.737980"], ["updated_at", "2018-01-06 06:55:12.737980"]]
  [1m[36m (76.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user42@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user42"], ["email", "user42@test.com"], ["password_digest", "$2a$10$cZzAuFHHR4jbPNPb8iK1WuQZOeiDRwRsz4/E4BJNUt2Dep7PjGxx2"], ["role", 1], ["sex", "female"], ["phonenumber", "810-152-3604 x30803"], ["status", "advocate"], ["created_at", "2018-01-06 06:55:12.921711"], ["updated_at", "2018-01-06 06:55:12.921711"]]
  [1m[36m (82.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user43@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user43"], ["email", "user43@test.com"], ["password_digest", "$2a$10$8KC.nU3ZR.l0Y55LvITFGuB.sdZQhvElPv42mN1jZbrsIbiSkf3ke"], ["role", 4], ["sex", "female"], ["phonenumber", "337-519-2733 x738"], ["status", "programmer"], ["created_at", "2018-01-06 06:55:13.131688"], ["updated_at", "2018-01-06 06:55:13.131688"]]
  [1m[36m (82.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user44@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user44"], ["email", "user44@test.com"], ["password_digest", "$2a$10$.qQpiB1e6igw9NGblUOb1.bPMOtORKhfo1JWaTLA8id.YgzKeEwxa"], ["role", 3], ["sex", "male"], ["phonenumber", "319.825.6498 x7994"], ["status", "actor"], ["created_at", "2018-01-06 06:55:13.327734"], ["updated_at", "2018-01-06 06:55:13.327734"]]
  [1m[36m (75.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user45@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user45"], ["email", "user45@test.com"], ["password_digest", "$2a$10$BqlqJO5.OzlUQALBcwWTiu8LU7Dth9wg/FFmLWZ0UbRzu4cSaVVT6"], ["role", 1], ["sex", "male"], ["phonenumber", "1-462-457-5691"], ["status", "judge"], ["created_at", "2018-01-06 06:55:13.490812"], ["updated_at", "2018-01-06 06:55:13.490812"]]
  [1m[36m (108.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user46@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user46"], ["email", "user46@test.com"], ["password_digest", "$2a$10$gKSfDpD3K26QhBzj8FixK.JC1PIJReqLKIIqEcbJ..pt2ksgWwwp6"], ["role", 4], ["sex", "male"], ["phonenumber", "855.854.5886"], ["status", "philosopher"], ["created_at", "2018-01-06 06:55:13.663218"], ["updated_at", "2018-01-06 06:55:13.663218"]]
  [1m[36m (96.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user47@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user47"], ["email", "user47@test.com"], ["password_digest", "$2a$10$LvGfhkSBeQ3Pn52YSqNJOekca/LrWgIpSE3qDHheowCGmCrsmREVa"], ["role", 3], ["sex", "male"], ["phonenumber", "1-576-973-0976"], ["status", "judge"], ["created_at", "2018-01-06 06:55:13.872997"], ["updated_at", "2018-01-06 06:55:13.872997"]]
  [1m[36m (86.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user48@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user48"], ["email", "user48@test.com"], ["password_digest", "$2a$10$AzFFfcJv/j1tBbjaMwWyUuZvkyaLk92y/T9YTorCOyvvaniBUIGEO"], ["role", 4], ["sex", "female"], ["phonenumber", "(787) 093-4285"], ["status", "programmer"], ["created_at", "2018-01-06 06:55:14.082365"], ["updated_at", "2018-01-06 06:55:14.082365"]]
  [1m[36m (87.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user49@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user49"], ["email", "user49@test.com"], ["password_digest", "$2a$10$tgsM8Mtk9SJxnq88lklq/OGlUWfKueDXt/abwycdU8P5Yb1.9uD9K"], ["role", 2], ["sex", "male"], ["phonenumber", "297.175.1181"], ["status", "physicist"], ["created_at", "2018-01-06 06:55:14.234848"], ["updated_at", "2018-01-06 06:55:14.234848"]]
  [1m[36m (80.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user50@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user50"], ["email", "user50@test.com"], ["password_digest", "$2a$10$yf5kWZah3aZzwcGINK/9Ou0PoOlQXt7ntm2OGONqexCCipJ6i3yhy"], ["role", 2], ["sex", "female"], ["phonenumber", "945-845-2207"], ["status", "interpreter"], ["created_at", "2018-01-06 06:55:14.378515"], ["updated_at", "2018-01-06 06:55:14.378515"]]
  [1m[36m (81.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user51@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user51"], ["email", "user51@test.com"], ["password_digest", "$2a$10$dNTHZfxRaE62LRMaX4pJxe5j2oxk6CxaHAbfFBwhrLgyeKKA7MCpa"], ["role", 4], ["sex", "male"], ["phonenumber", "(951) 897-7116"], ["status", "firefighter"], ["created_at", "2018-01-06 06:55:14.587644"], ["updated_at", "2018-01-06 06:55:14.587644"]]
  [1m[36m (82.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user52@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user52"], ["email", "user52@test.com"], ["password_digest", "$2a$10$kSZRUkM9zecA/q2fZN87Qum.1oFILzJbDO545Oc3HDxBBhogGXwOu"], ["role", 2], ["sex", "female"], ["phonenumber", "285-059-0910 x70587"], ["status", "actor"], ["created_at", "2018-01-06 06:55:14.766824"], ["updated_at", "2018-01-06 06:55:14.766824"]]
  [1m[36m (81.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user53@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user53"], ["email", "user53@test.com"], ["password_digest", "$2a$10$LcjC40krWsaWSnvxRMErW.wJsCJLOX2Dyu1ABYVPo3sRzW3YTsfVG"], ["role", 2], ["sex", "male"], ["phonenumber", "(548) 522-2460 x3504"], ["status", "police officer"], ["created_at", "2018-01-06 06:55:14.944158"], ["updated_at", "2018-01-06 06:55:14.944158"]]
  [1m[36m (81.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user54@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user54"], ["email", "user54@test.com"], ["password_digest", "$2a$10$eOxzExS.3qavXYw8kPRf3.1KYhC.BubGFKa2XL928yBvuC.Pdp.1a"], ["role", 1], ["sex", "female"], ["phonenumber", "1-251-653-8512 x63042"], ["status", "architect"], ["created_at", "2018-01-06 06:55:15.115456"], ["updated_at", "2018-01-06 06:55:15.115456"]]
  [1m[36m (77.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user55@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user55"], ["email", "user55@test.com"], ["password_digest", "$2a$10$1eQ6X.FbNa1bxYrJzCrxJO4YVU8drdVndM4aHcs81XeM.2IfxD0Jm"], ["role", 2], ["sex", "female"], ["phonenumber", "183.522.9965"], ["status", "economist"], ["created_at", "2018-01-06 06:55:15.301440"], ["updated_at", "2018-01-06 06:55:15.301440"]]
  [1m[36m (80.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user56@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user56"], ["email", "user56@test.com"], ["password_digest", "$2a$10$Igrzmvh20xXWevuwwcvMDOmpVl/35Xgh1u43kMbJIJMbN/bkpoaSC"], ["role", 1], ["sex", "male"], ["phonenumber", "339-853-7482"], ["status", "programmer"], ["created_at", "2018-01-06 06:55:15.481618"], ["updated_at", "2018-01-06 06:55:15.481618"]]
  [1m[36m (77.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user57@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user57"], ["email", "user57@test.com"], ["password_digest", "$2a$10$2aFVFfJAPUjVe6xjG7l7oOrHtQfRvZWcJvwMl0IDdgYwrFR9QqjVK"], ["role", 1], ["sex", "male"], ["phonenumber", "(676) 479-6622"], ["status", "human resources"], ["created_at", "2018-01-06 06:55:15.667698"], ["updated_at", "2018-01-06 06:55:15.667698"]]
  [1m[36m (80.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user58@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user58"], ["email", "user58@test.com"], ["password_digest", "$2a$10$GxGIl8xdyDfPTq.AbRE0au.gbcprSETftSuYIy.j3XH/V7T.t8Pp2"], ["role", 2], ["sex", "male"], ["phonenumber", "596-239-2980 x2574"], ["status", "designer"], ["created_at", "2018-01-06 06:55:15.865431"], ["updated_at", "2018-01-06 06:55:15.865431"]]
  [1m[36m (82.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user59@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user59"], ["email", "user59@test.com"], ["password_digest", "$2a$10$OTd4Z2WeqawK.0QdAqDn8.BTwWlX4t6ApokHzBu58Tq/ersY033xu"], ["role", 2], ["sex", "female"], ["phonenumber", "(132) 037-5851"], ["status", "firefighter"], ["created_at", "2018-01-06 06:55:16.047717"], ["updated_at", "2018-01-06 06:55:16.047717"]]
  [1m[36m (78.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user60@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user60"], ["email", "user60@test.com"], ["password_digest", "$2a$10$hEbVmPAao5Euun7JGcTgr.cGFLV3UQ1.zqOlKCUTlIBZAwmel6B/C"], ["role", 2], ["sex", "female"], ["phonenumber", "1-296-119-6081 x3970"], ["status", "human resources"], ["created_at", "2018-01-06 06:55:16.234979"], ["updated_at", "2018-01-06 06:55:16.234979"]]
  [1m[36m (80.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user61@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user61"], ["email", "user61@test.com"], ["password_digest", "$2a$10$hyoAU9rUH7n4dOyNGUYFXeR/u/6rpGv5UGUjI4LW.gH4ZvSzqGg7S"], ["role", 4], ["sex", "female"], ["phonenumber", "790-405-0077 x41937"], ["status", "astronomer"], ["created_at", "2018-01-06 06:55:16.427350"], ["updated_at", "2018-01-06 06:55:16.427350"]]
  [1m[36m (76.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user62@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user62"], ["email", "user62@test.com"], ["password_digest", "$2a$10$zh33fCRPgwqlR8Vmd7I5m.mvMOQBezQjE13NpdjNdOrpTzzsOeRia"], ["role", 1], ["sex", "female"], ["phonenumber", "311-146-1059"], ["status", "writer"], ["created_at", "2018-01-06 06:55:16.614707"], ["updated_at", "2018-01-06 06:55:16.614707"]]
  [1m[36m (88.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user63@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user63"], ["email", "user63@test.com"], ["password_digest", "$2a$10$rUz1fIAuMqx/l2nMPRF4JeC6X5drm4jJVEPYVz0ezsgB/TovcdQkS"], ["role", 4], ["sex", "female"], ["phonenumber", "1-209-025-4894 x1332"], ["status", "interpreter"], ["created_at", "2018-01-06 06:55:16.826163"], ["updated_at", "2018-01-06 06:55:16.826163"]]
  [1m[36m (88.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user64@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user64"], ["email", "user64@test.com"], ["password_digest", "$2a$10$mYxWDwHE37SRLu3fDv4zm.y3UiJ7m8vSftcaFi/z1oR1qTXUKoS9a"], ["role", 4], ["sex", "male"], ["phonenumber", "619.190.8756 x839"], ["status", "librarian"], ["created_at", "2018-01-06 06:55:17.033996"], ["updated_at", "2018-01-06 06:55:17.033996"]]
  [1m[36m (581.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user65@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user65"], ["email", "user65@test.com"], ["password_digest", "$2a$10$HnGZcbM6ObFDEO298Jt1auhp5F3abMgoOq2Vy5xcCCXBbawHlfP2m"], ["role", 3], ["sex", "female"], ["phonenumber", "924.281.3006"], ["status", "actor"], ["created_at", "2018-01-06 06:55:17.723993"], ["updated_at", "2018-01-06 06:55:17.723993"]]
  [1m[36m (79.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user66@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user66"], ["email", "user66@test.com"], ["password_digest", "$2a$10$jTOY0i6dtJhd6Oaz2eG.C.xlk6JH51kgRr1pqCu62lDQw84i7J4Hq"], ["role", 2], ["sex", "female"], ["phonenumber", "(307) 546-3020 x36637"], ["status", "chemist"], ["created_at", "2018-01-06 06:55:17.917703"], ["updated_at", "2018-01-06 06:55:17.917703"]]
  [1m[36m (85.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user67@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user67"], ["email", "user67@test.com"], ["password_digest", "$2a$10$OzPDQ4vx6J.b1wyGOI.jpeBcq48Qn9ihK4MwGxAHEuiAXrqmUvNSe"], ["role", 1], ["sex", "male"], ["phonenumber", "1-614-298-3878 x30232"], ["status", "actor"], ["created_at", "2018-01-06 06:55:18.111610"], ["updated_at", "2018-01-06 06:55:18.111610"]]
  [1m[36m (124.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user68@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user68"], ["email", "user68@test.com"], ["password_digest", "$2a$10$b31r26sapnoQ3oypcvzK2ebrd9gnwtekta0VY/QrvKpxTGgiD89Vu"], ["role", 2], ["sex", "male"], ["phonenumber", "1-308-271-7742"], ["status", "accountant"], ["created_at", "2018-01-06 06:55:18.337760"], ["updated_at", "2018-01-06 06:55:18.337760"]]
  [1m[36m (88.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user69@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user69"], ["email", "user69@test.com"], ["password_digest", "$2a$10$0OKbZjA285SAbtEbRizUCOYiIA4T/90vOVRYyrhpE3Rg8OkpgI9ua"], ["role", 3], ["sex", "male"], ["phonenumber", "650.632.4515 x599"], ["status", "judge"], ["created_at", "2018-01-06 06:55:18.555290"], ["updated_at", "2018-01-06 06:55:18.555290"]]
  [1m[36m (92.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user70@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user70"], ["email", "user70@test.com"], ["password_digest", "$2a$10$6pTHPunNENHGhgDNqCDqF.ar1tO3IyVAM7rcVt2S.Y3.tluD1NA5e"], ["role", 2], ["sex", "female"], ["phonenumber", "(428) 433-3700 x9932"], ["status", "programmer"], ["created_at", "2018-01-06 06:55:18.776218"], ["updated_at", "2018-01-06 06:55:18.776218"]]
  [1m[36m (94.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user71@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user71"], ["email", "user71@test.com"], ["password_digest", "$2a$10$.SQM3E4eERDhd6G6UYbp2OXg0oOu0qxc9ZVyqGXQtcntfIbjmP6u."], ["role", 2], ["sex", "female"], ["phonenumber", "763-644-6671 x58806"], ["status", "doctor"], ["created_at", "2018-01-06 06:55:18.977586"], ["updated_at", "2018-01-06 06:55:18.977586"]]
  [1m[36m (92.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user72@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user72"], ["email", "user72@test.com"], ["password_digest", "$2a$10$2hB0VqZN5Ae9Gc55SyboFeL4lrEIbCpe2qRgAilTsSwtipiAadTDu"], ["role", 4], ["sex", "female"], ["phonenumber", "(813) 800-4489"], ["status", "musician"], ["created_at", "2018-01-06 06:55:19.199039"], ["updated_at", "2018-01-06 06:55:19.199039"]]
  [1m[36m (82.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user73@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user73"], ["email", "user73@test.com"], ["password_digest", "$2a$10$6vNnLJ4BDcZAjOB.odwsVeSIxE6mDci/UxIR8s6RRzc8v4FArWdl6"], ["role", 3], ["sex", "male"], ["phonenumber", "633.129.5099"], ["status", "architect"], ["created_at", "2018-01-06 06:55:19.388673"], ["updated_at", "2018-01-06 06:55:19.388673"]]
  [1m[36m (92.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user74@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user74"], ["email", "user74@test.com"], ["password_digest", "$2a$10$vVuCXaGh0WBy1ePzy/ZEH.8.zjXpi3lod3AClUXo8F0H/BUEQNGZm"], ["role", 4], ["sex", "male"], ["phonenumber", "1-246-644-6716 x74296"], ["status", "philosopher"], ["created_at", "2018-01-06 06:55:19.605249"], ["updated_at", "2018-01-06 06:55:19.605249"]]
  [1m[36m (87.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user75@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user75"], ["email", "user75@test.com"], ["password_digest", "$2a$10$7.fyjOkGue.qgKQ7BH7OwO7dvXxMa2w7brwErwWKabJ06ykzHeHza"], ["role", 2], ["sex", "female"], ["phonenumber", "933-217-0428 x4432"], ["status", "designer"], ["created_at", "2018-01-06 06:55:19.800258"], ["updated_at", "2018-01-06 06:55:19.800258"]]
  [1m[36m (92.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user76@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user76"], ["email", "user76@test.com"], ["password_digest", "$2a$10$r3ryg3L3tHhvwHsA4nMB5eIZsMr3qxdRw9uSdUhua8TFROFVW9NZm"], ["role", 2], ["sex", "female"], ["phonenumber", "225-818-3962 x01936"], ["status", "architect"], ["created_at", "2018-01-06 06:55:20.000645"], ["updated_at", "2018-01-06 06:55:20.000645"]]
  [1m[36m (69.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user77@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user77"], ["email", "user77@test.com"], ["password_digest", "$2a$10$4cIg3XTYQ/oWhr93Z/pRKelO2/goM4Sb1sXznXI/yR9ZQ0edTLQR."], ["role", 1], ["sex", "female"], ["phonenumber", "1-586-570-7719 x099"], ["status", "police officer"], ["created_at", "2018-01-06 06:55:20.169719"], ["updated_at", "2018-01-06 06:55:20.169719"]]
  [1m[36m (78.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user78@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user78"], ["email", "user78@test.com"], ["password_digest", "$2a$10$CRRDtIjTGolGsuYkOXwJPOWJvS1wqq.8yuT7snE7aAg74PKC7irrW"], ["role", 1], ["sex", "male"], ["phonenumber", "(489) 570-8724"], ["status", "advocate"], ["created_at", "2018-01-06 06:55:20.349570"], ["updated_at", "2018-01-06 06:55:20.349570"]]
  [1m[36m (87.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user79@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user79"], ["email", "user79@test.com"], ["password_digest", "$2a$10$T9qWlLm1/9f/tbagwNv4mOwhCfI5iP6vxoAUgDMqMXcxQ7BSP4MDK"], ["role", 2], ["sex", "female"], ["phonenumber", "1-438-770-5125 x9670"], ["status", "judge"], ["created_at", "2018-01-06 06:55:20.527318"], ["updated_at", "2018-01-06 06:55:20.527318"]]
  [1m[36m (76.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user80@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user80"], ["email", "user80@test.com"], ["password_digest", "$2a$10$Hcz3kIa3YPkqtLo/9H/3Iusc.CjPqZBmkofcRLcnasbOJJAeuX4Ry"], ["role", 3], ["sex", "male"], ["phonenumber", "1-993-851-0828 x04011"], ["status", "advocate"], ["created_at", "2018-01-06 06:55:20.703334"], ["updated_at", "2018-01-06 06:55:20.703334"]]
  [1m[36m (89.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user81@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user81"], ["email", "user81@test.com"], ["password_digest", "$2a$10$W3pSxJlHNL6qqhUJil3pkeCauXJNGQLDkd9wY6CHgaWtQrZDxNC5a"], ["role", 2], ["sex", "female"], ["phonenumber", "1-232-968-2014 x38702"], ["status", "statistician"], ["created_at", "2018-01-06 06:55:20.915156"], ["updated_at", "2018-01-06 06:55:20.915156"]]
  [1m[36m (77.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user82@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user82"], ["email", "user82@test.com"], ["password_digest", "$2a$10$Ge4n9BlzXdYVDkHgVA5YSuGQc9h/.CjnyJu8QgXodnhv2rDHP6XIO"], ["role", 4], ["sex", "female"], ["phonenumber", "(937) 805-6409"], ["status", "musician"], ["created_at", "2018-01-06 06:55:21.114942"], ["updated_at", "2018-01-06 06:55:21.114942"]]
  [1m[36m (88.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user83@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user83"], ["email", "user83@test.com"], ["password_digest", "$2a$10$rLawq1/BhmWvDQMat5HThuMd4PcL3CZChjFDx.IXc.TUXFZt69KGi"], ["role", 4], ["sex", "female"], ["phonenumber", "626-520-8671"], ["status", "police officer"], ["created_at", "2018-01-06 06:55:21.295082"], ["updated_at", "2018-01-06 06:55:21.295082"]]
  [1m[36m (97.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user84@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user84"], ["email", "user84@test.com"], ["password_digest", "$2a$10$/QGRi9C.OfP.1F1d7IXJH.WhGQx8/UEmhORjMY1W1Fi9ERc/BTvUa"], ["role", 3], ["sex", "male"], ["phonenumber", "427-909-9464 x4159"], ["status", "engineer"], ["created_at", "2018-01-06 06:55:21.492379"], ["updated_at", "2018-01-06 06:55:21.492379"]]
  [1m[36m (89.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user85@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user85"], ["email", "user85@test.com"], ["password_digest", "$2a$10$PQ1vBE8hIITx/ViTrz3vT.mv5/HGWsrqIA4nZL.CHrHUb.f1Y9yJe"], ["role", 1], ["sex", "male"], ["phonenumber", "(901) 296-2555 x5163"], ["status", "astronomer"], ["created_at", "2018-01-06 06:55:21.690128"], ["updated_at", "2018-01-06 06:55:21.690128"]]
  [1m[36m (91.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user86@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user86"], ["email", "user86@test.com"], ["password_digest", "$2a$10$CBNaNzA.yl4gHgm7GmYpsuEBx7N45nZyVzH3reJG8rW4oymscdz1S"], ["role", 2], ["sex", "female"], ["phonenumber", "737.989.2691 x1919"], ["status", "web developer"], ["created_at", "2018-01-06 06:55:21.878770"], ["updated_at", "2018-01-06 06:55:21.878770"]]
  [1m[36m (80.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user87@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user87"], ["email", "user87@test.com"], ["password_digest", "$2a$10$l3dvoSmW5x58ooqROjGu5uAj5o9R/KpLWIlZ/vfI8GTAcXTUlm7yq"], ["role", 4], ["sex", "male"], ["phonenumber", "(749) 683-5500 x95662"], ["status", "teacher"], ["created_at", "2018-01-06 06:55:22.048686"], ["updated_at", "2018-01-06 06:55:22.048686"]]
  [1m[36m (88.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user88@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user88"], ["email", "user88@test.com"], ["password_digest", "$2a$10$2mR5d3QBo1Bgvz5OYqy98ulFMcInLeVhnZajobXm1NKuJeP1P2/hW"], ["role", 1], ["sex", "female"], ["phonenumber", "949-492-1539"], ["status", "firefighter"], ["created_at", "2018-01-06 06:55:22.224088"], ["updated_at", "2018-01-06 06:55:22.224088"]]
  [1m[36m (68.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user89@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user89"], ["email", "user89@test.com"], ["password_digest", "$2a$10$v6qh1BiAYG8kHcS8mc5kPOB2krGjBD.Csn7VOJt9Wps7xdk47Xav6"], ["role", 2], ["sex", "female"], ["phonenumber", "(817) 190-4829 x83679"], ["status", "web developer"], ["created_at", "2018-01-06 06:55:22.384856"], ["updated_at", "2018-01-06 06:55:22.384856"]]
  [1m[36m (97.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user90@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user90"], ["email", "user90@test.com"], ["password_digest", "$2a$10$VeOcW.7LbvMRxnphwUN40eqkyq.8bddg5yR94q3.d0ImvpcW.Wvce"], ["role", 1], ["sex", "male"], ["phonenumber", "722-947-1840 x68139"], ["status", "economist"], ["created_at", "2018-01-06 06:55:22.553281"], ["updated_at", "2018-01-06 06:55:22.553281"]]
  [1m[36m (72.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user91@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user91"], ["email", "user91@test.com"], ["password_digest", "$2a$10$gB3mWoTIDBFBX8c/DEiMkeZEFBtcTkLInBDq88.l9bDIIAW/CDIjm"], ["role", 3], ["sex", "male"], ["phonenumber", "1-665-726-4515 x4214"], ["status", "accountant"], ["created_at", "2018-01-06 06:55:22.689601"], ["updated_at", "2018-01-06 06:55:22.689601"]]
  [1m[36m (80.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user92@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user92"], ["email", "user92@test.com"], ["password_digest", "$2a$10$QoQA40xB9yhrVMC28O9j/OUqBy19IISrESlMmUSXl4PpoSh67Kvfu"], ["role", 4], ["sex", "male"], ["phonenumber", "1-430-398-3486"], ["status", "programmer"], ["created_at", "2018-01-06 06:55:22.834717"], ["updated_at", "2018-01-06 06:55:22.834717"]]
  [1m[36m (80.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user93@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user93"], ["email", "user93@test.com"], ["password_digest", "$2a$10$ThME5KmP/E18Bw9h.RPoweOAuEnZhLCqmILYEfdGZfky0OhwsWGWa"], ["role", 2], ["sex", "male"], ["phonenumber", "240-832-7393 x1083"], ["status", "biologist"], ["created_at", "2018-01-06 06:55:23.019017"], ["updated_at", "2018-01-06 06:55:23.019017"]]
  [1m[36m (84.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user94@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user94"], ["email", "user94@test.com"], ["password_digest", "$2a$10$RLnVl9p/wLPfF.BQfzGLjuvc9sDqSGMm6pYToHKWt23RxrKgZcCGa"], ["role", 1], ["sex", "male"], ["phonenumber", "523-038-9411"], ["status", "musician"], ["created_at", "2018-01-06 06:55:23.215982"], ["updated_at", "2018-01-06 06:55:23.215982"]]
  [1m[36m (87.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user95@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user95"], ["email", "user95@test.com"], ["password_digest", "$2a$10$eB6hpWLVjb.2NGHWDzfr1.ST5OMlvIKA4PsuG3yZJiIcLCLca3zkO"], ["role", 3], ["sex", "male"], ["phonenumber", "1-899-275-6181 x867"], ["status", "firefighter"], ["created_at", "2018-01-06 06:55:23.410398"], ["updated_at", "2018-01-06 06:55:23.410398"]]
  [1m[36m (93.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user96@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user96"], ["email", "user96@test.com"], ["password_digest", "$2a$10$qV7HG9ogjDuaKFUDYs/hT.n6.uC1fAE9HrxwrWabmpFXRon07HV9e"], ["role", 2], ["sex", "male"], ["phonenumber", "667.252.8836 x432"], ["status", "musician"], ["created_at", "2018-01-06 06:55:23.627889"], ["updated_at", "2018-01-06 06:55:23.627889"]]
  [1m[36m (86.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user97@test.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user97"], ["email", "user97@test.com"], ["password_digest", "$2a$10$DbF1keWxJjZNG9khZjfPCOh4KV8W3dF7XcnzAbSIQcmhPyzL8rYMC"], ["role", 3], ["sex", "female"], ["phonenumber", "1-982-643-8548 x63372"], ["status", "actor"], ["created_at", "2018-01-06 06:55:23.782890"], ["updated_at", "2018-01-06 06:55:23.782890"]]
  [1m[36m (86.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user98@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user98"], ["email", "user98@test.com"], ["password_digest", "$2a$10$U6DzzSiy4Qnd3ZAAUu8MNe5bC0Xzt1SWlyCwz7XlyUiyfqwJIkKGe"], ["role", 1], ["sex", "female"], ["phonenumber", "(740) 373-4390 x36000"], ["status", "philosopher"], ["created_at", "2018-01-06 06:55:23.936303"], ["updated_at", "2018-01-06 06:55:23.936303"]]
  [1m[36m (67.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user99@test.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user99"], ["email", "user99@test.com"], ["password_digest", "$2a$10$SzqANzIen6TYdxwhRPtO4ewdKeweE5XL77O1mWJ6YBCySn2/4tpYS"], ["role", 4], ["sex", "female"], ["phonenumber", "707.507.0296"], ["status", "human resources"], ["created_at", "2018-01-06 06:55:24.066400"], ["updated_at", "2018-01-06 06:55:24.066400"]]
  [1m[36m (82.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user100@test.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "role", "sex", "phonenumber", "status", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["name", "user100"], ["email", "user100@test.com"], ["password_digest", "$2a$10$amymePlDH4QfmKW3ZuMC2Oe9gU1rUN/HuBAeqfvpCEgHQsa2pMOmG"], ["role", 3], ["sex", "male"], ["phonenumber", "(292) 111-5190"], ["status", "writer"], ["created_at", "2018-01-06 06:55:24.231073"], ["updated_at", "2018-01-06 06:55:24.231073"]]
  [1m[36m (83.9ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["friend_id", 2], ["user_id", 1], ["created_at", "2018-01-06 06:55:24.331454"], ["updated_at", "2018-01-06 06:55:24.331454"]]
  [1m[36m (94.5ms)[0m  [1mcommit transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["friend_id", 3], ["user_id", 1], ["created_at", "2018-01-06 06:55:24.428689"], ["updated_at", "2018-01-06 06:55:24.428689"]]
  [1m[36m (86.4ms)[0m  [1mcommit transaction[0m


Started GET "/" for 127.0.0.1 at 2018-01-06 14:55:40 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (24.6ms)
  Rendered layouts/_login_panel.html.erb (4.4ms)
  Rendered layouts/_header.html.erb (6.1ms)
  Rendered layouts/_content.html.erb (0.4ms)
Completed 200 OK in 11112ms (Views: 11105.6ms | ActiveRecord: 0.5ms)


Started GET "/" for 127.0.0.1 at 2018-01-06 14:59:48 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (14.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 45ms (Views: 44.5ms | ActiveRecord: 0.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 14:59:50 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.5ms)
  Rendered chats/_navside.html.erb (17.6ms)
  Rendered chats/index.html.erb within layouts/application (18.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 73ms (Views: 48.1ms | ActiveRecord: 1.0ms)


Started GET "/users/index_json?query=user7" for 127.0.0.1 at 2018-01-06 14:59:56 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user7"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user7%')  [["user_id", 1]]
Completed 200 OK in 7ms (Views: 1.4ms | ActiveRecord: 0.4ms)


Started POST "/friendships?friend_id=7" for 127.0.0.1 at 2018-01-06 14:59:58 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"BmTHfnDJJsTuz6+C5A35PISLQCWmp8PYxvL7AouqiC+69WuurP5mzsS8aQNJGurowex5iamY5zf0vbl2ka8Ccg==", "friend_id"=>"7"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.2ms)

NoMethodError (undefined method `is_agree=' for #<Friendship:0x0055cf5982a478>):
  app/controllers/friendships_controller.rb:7:in `create'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (18.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (318.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (332.6ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateApplies (20180106071457)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "applies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "friend_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_applies_on_user_id" ON "applies" ("user_id")[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_applies_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_applies_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_applies_on_friend_id" ON "applies" ("friend_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20180106071457"]]
  [1m[36m (126.1ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_applies_on_friend_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_applies_on_friend_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_applies_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_applies_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_chats_users_on_chat_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_chats_users_on_chat_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_chats_users_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_chats_users_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_friendships_on_friend_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendships_on_friend_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_friendships_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_friendships_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_messages_on_chat_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_messages_on_chat_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_messages_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_messages_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_name' AND type='index'



Started GET "/" for 127.0.0.1 at 2018-01-06 15:24:37 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (24.8ms)
  Rendered layouts/_login_panel.html.erb (4.6ms)
  Rendered layouts/_header.html.erb (6.3ms)
  Rendered layouts/_content.html.erb (0.4ms)
Completed 200 OK in 728ms (Views: 720.5ms | ActiveRecord: 0.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 15:24:39 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.6ms)
  Rendered chats/_navside.html.erb (18.4ms)
  Rendered chats/index.html.erb within layouts/application (19.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 75ms (Views: 50.8ms | ActiveRecord: 1.0ms)


Started GET "/users/index_json?query=user5" for 127.0.0.1 at 2018-01-06 15:24:47 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user5%')  [["user_id", 1]]
Completed 200 OK in 8ms (Views: 1.6ms | ActiveRecord: 0.5ms)


Started POST "/applies?friend_id=5" for 127.0.0.1 at 2018-01-06 15:24:49 +0800
Processing by AppliesController#create as HTML
  Parameters: {"authenticity_token"=>"qb+aqsCgwcTwEqHoqOl2xj7MYeH65v96MfwlDjpfOMkVLjZ6HJeBztphZ2kF/mUSe6tYTfXZ25UDs2d6IFqylA==", "friend_id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)

NoMethodError (undefined method `applies' for #<User:0x0056093b42de08>):
  app/controllers/applies_controller.rb:10:in `create'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (18.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (311.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (325.1ms)


Started GET "/" for 127.0.0.1 at 2018-01-06 15:28:30 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 40ms (Views: 39.0ms | ActiveRecord: 0.1ms)


Started GET "/q" for 127.0.0.1 at 2018-01-06 15:28:33 +0800

ActionController::RoutingError (No route matches [GET] "/q"):
  actionpack (4.2.5.2) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.5.2) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.5.2) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.5.2) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.5) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.5) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.5.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/static.rb:116:in `call'
  rack (1.6.5) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.5.2) lib/rails/engine.rb:518:in `call'
  railties (4.2.5.2) lib/rails/application.rb:165:in `call'
  rack (1.6.5) lib/rack/content_length.rb:15:in `call'
  thin (1.7.0) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.7.0) lib/thin/connection.rb:84:in `catch'
  thin (1.7.0) lib/thin/connection.rb:84:in `pre_process'
  thin (1.7.0) lib/thin/connection.rb:53:in `process'
  thin (1.7.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.2.2) lib/eventmachine.rb:194:in `run_machine'
  eventmachine (1.2.2) lib/eventmachine.rb:194:in `run'
  thin (1.7.0) lib/thin/backends/base.rb:73:in `start'
  thin (1.7.0) lib/thin/server.rb:162:in `start'
  rack (1.6.5) lib/rack/handler/thin.rb:19:in `run'
  rack (1.6.5) lib/rack/server.rb:286:in `start'
  railties (4.2.5.2) lib/rails/commands/server.rb:80:in `start'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:80:in `block in server'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:75:in `tap'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:75:in `server'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:39:in `run_command!'
  railties (4.2.5.2) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `require'
  bin/rails:4:in `<main>'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb (5.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (86.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (26.4ms)


Started POST "/applies?friend_id=5" for 127.0.0.1 at 2018-01-06 15:30:16 +0800
Processing by AppliesController#create as HTML
  Parameters: {"authenticity_token"=>"qb+aqsCgwcTwEqHoqOl2xj7MYeH65v96MfwlDjpfOMkVLjZ6HJeBztphZ2kF/mUSe6tYTfXZ25UDs2d6IFqylA==", "friend_id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)

NoMethodError (undefined method `applies' for #<User:0x0056093efc1f78>):
  app/controllers/applies_controller.rb:10:in `create'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.8ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (10.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (29.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.0ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (26.1ms)


Started POST "/applies?friend_id=5" for 127.0.0.1 at 2018-01-06 15:33:47 +0800
Processing by AppliesController#create as HTML
  Parameters: {"authenticity_token"=>"qb+aqsCgwcTwEqHoqOl2xj7MYeH65v96MfwlDjpfOMkVLjZ6HJeBztphZ2kF/mUSe6tYTfXZ25UDs2d6IFqylA==", "friend_id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.6ms)

NoMethodError (undefined method `applies' for #<User:0x0056093ecf5038>):
  app/controllers/applies_controller.rb:10:in `create'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (20.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (26.4ms)


Started POST "/applies?friend_id=5" for 127.0.0.1 at 2018-01-06 15:39:22 +0800
Processing by AppliesController#create as HTML
  Parameters: {"authenticity_token"=>"qb+aqsCgwcTwEqHoqOl2xj7MYeH65v96MfwlDjpfOMkVLjZ6HJeBztphZ2kF/mUSe6tYTfXZ25UDs2d6IFqylA==", "friend_id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.7ms)

SystemStackError (stack level too deep):
  app/controllers/applies_controller.rb:10:in `create'




Started GET "/" for 127.0.0.1 at 2018-01-06 15:50:36 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (13.5ms)
  Rendered layouts/_login_panel.html.erb (15.2ms)
  Rendered layouts/_header.html.erb (16.6ms)
  Rendered layouts/_content.html.erb (0.5ms)
Completed 200 OK in 3447ms (Views: 3427.0ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-01-06 15:50:43 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"VBKa25VVLrBwf4+O1JiNyNfTP84Amh+zrZF3o4S4Xq7182AqDR8Gjtcv/yM5YoXVNsaB9pvOKPEGyPoqxqSFqA==", "session"=>{"email"=>"user1@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[35mUser Load (11.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user1@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 250ms (ActiveRecord: 12.3ms)


Started GET "/" for 127.0.0.1 at 2018-01-06 15:50:44 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (1.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 32ms (Views: 30.9ms | ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 15:50:47 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (26.0ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (20.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (22.0ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.6ms)
  Rendered chats/_navside.html.erb (43.6ms)
  Rendered chats/index.html.erb within layouts/application (44.7ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 310ms (Views: 60.9ms | ActiveRecord: 68.7ms)


Started GET "/users/index_json?query=user4" for 127.0.0.1 at 2018-01-06 15:50:53 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user4"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user4%')[0m  [["user_id", 1]]
Completed 200 OK in 8ms (Views: 1.9ms | ActiveRecord: 0.5ms)


Started POST "/applies?friend_id=4" for 127.0.0.1 at 2018-01-06 15:50:54 +0800
Processing by AppliesController#create as HTML
  Parameters: {"authenticity_token"=>"2RQIs79Ru6MlRExf9D85DWX0D+4b0t9dGO1Yjigaxl549fJCJxuTnYIUPPIZxTEQhOGx1oCG6B+ztNUHagYdWA==", "friend_id"=>"4"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms)

SystemStackError (stack level too deep):
  app/controllers/applies_controller.rb:10:in `create'




Started GET "/" for 127.0.0.1 at 2018-01-06 16:06:52 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (26.4ms)
  Rendered layouts/_login_panel.html.erb (4.3ms)
  Rendered layouts/_header.html.erb (5.9ms)
  Rendered layouts/_content.html.erb (0.5ms)
Completed 200 OK in 435ms (Views: 427.9ms | ActiveRecord: 0.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 16:06:54 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.5ms)
  Rendered chats/_navside.html.erb (17.3ms)
  Rendered chats/index.html.erb within layouts/application (18.0ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 69ms (Views: 47.5ms | ActiveRecord: 1.0ms)


Started GET "/users/index_json?query=" for 127.0.0.1 at 2018-01-06 16:06:57 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%%')  [["user_id", 1]]
Completed 200 OK in 31ms (Views: 12.3ms | ActiveRecord: 0.9ms)


Started POST "/applies?friend_id=4" for 127.0.0.1 at 2018-01-06 16:06:59 +0800
Processing by AppliesController#create as HTML
  Parameters: {"authenticity_token"=>"vY+iTCKxrOqUS5AtD70ACbDPFNoS7ScsR3egkfyjm7ocbli9uvuE1DMb4IDiRwgUUdqq4om5EG7sLi0Yvr9AvA==", "friend_id"=>"4"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "applies" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["friend_id", 4], ["user_id", 1], ["created_at", "2018-01-06 08:07:00.017827"], ["updated_at", "2018-01-06 08:07:00.017827"]]
  [1m[35m (89.6ms)[0m  commit transaction
Redirected to http://localhost:3000/chats
Completed 302 Found in 217ms (ActiveRecord: 90.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 16:07:00 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.3ms)
  Rendered chats/index.html.erb within layouts/application (4.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 47ms (Views: 44.0ms | ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 16:12:02 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.5ms)
  Rendered chats/index.html.erb within layouts/application (6.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 42ms (Views: 38.6ms | ActiveRecord: 0.4ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 16:12:16 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.8ms)
  Rendered chats/index.html.erb within layouts/application (7.3ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 48ms (Views: 44.2ms | ActiveRecord: 0.4ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 16:16:31 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.7ms)
  Rendered chats/index.html.erb within layouts/application (6.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 41ms (Views: 36.9ms | ActiveRecord: 0.4ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 16:17:22 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (26.0ms)
  Rendered chats/index.html.erb within layouts/application (26.8ms)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 0.4ms)

ActionView::Template::Error (Missing partial chats/_new_fridends, application/_new_fridends with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder, :haml]}. Searched in:
  * "/home/runtu/pro/soft_engneering/RailsChat/app/views"
  * "/home/runtu/.rvm/gems/ruby-2.2.4/gems/rails_admin-0.8.1/app/views"
  * "/home/runtu/.rvm/gems/ruby-2.2.4/gems/kaminari-0.16.3/app/views"
):
    67: </div>
    68: 
    69: <%= render "search_fridends" %>
    70: <%= render "new_fridends" %>
  app/views/chats/_navside.html.erb:70:in `_app_views_chats__navside_html_erb___3428264534186028829_47267313615020'
  app/views/chats/index.html.erb:3:in `_app_views_chats_index_html_erb___1630980784166195579_47267314044040'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.0ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (22.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (425.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (441.0ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 16:18:49 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (16.8ms)
  Rendered chats/index.html.erb within layouts/application (17.2ms)
Completed 500 Internal Server Error in 42ms (ActiveRecord: 1.3ms)

ActionView::Template::Error (Missing partial chats/_new_fridends, application/_new_fridends with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder, :haml]}. Searched in:
  * "/home/runtu/pro/soft_engneering/RailsChat/app/views"
  * "/home/runtu/.rvm/gems/ruby-2.2.4/gems/rails_admin-0.8.1/app/views"
  * "/home/runtu/.rvm/gems/ruby-2.2.4/gems/kaminari-0.16.3/app/views"
):
    67: </div>
    68: 
    69: <%= render "search_fridends" %>
    70: <%= render "new_fridends" %>
  app/views/chats/_navside.html.erb:70:in `_app_views_chats__navside_html_erb___3428264534186028829_47267313615020'
  app/views/chats/index.html.erb:3:in `_app_views_chats_index_html_erb___1630980784166195579_47267314044040'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (24.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (1.0ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (14.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (29.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 16:20:17 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_navside.html.erb (12.6ms)
  Rendered chats/index.html.erb within layouts/application (13.2ms)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.4ms)

ActionView::Template::Error (Missing partial chats/_new_fridends, application/_new_fridends with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder, :haml]}. Searched in:
  * "/home/runtu/pro/soft_engneering/RailsChat/app/views"
  * "/home/runtu/.rvm/gems/ruby-2.2.4/gems/rails_admin-0.8.1/app/views"
  * "/home/runtu/.rvm/gems/ruby-2.2.4/gems/kaminari-0.16.3/app/views"
):
    66:   </div>
    67: </div>
    68: 
    69: <%= render "new_fridends" %>
    70: <%= render "search_fridends" %>
  app/views/chats/_navside.html.erb:69:in `_app_views_chats__navside_html_erb___3428264534186028829_47267284817960'
  app/views/chats/index.html.erb:3:in `_app_views_chats_index_html_erb___1630980784166195579_47267314044040'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (25.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (27.8ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 16:20:47 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.6ms)
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (7.8ms)
  Rendered chats/index.html.erb within layouts/application (8.5ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 49ms (Views: 44.4ms | ActiveRecord: 0.4ms)


Started GET "/users/index_json?query=user5" for 127.0.0.1 at 2018-01-06 16:21:22 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user5%')  [["user_id", 1]]
Completed 200 OK in 7ms (Views: 1.8ms | ActiveRecord: 0.4ms)


Started GET "/users/index_json?query=user5" for 127.0.0.1 at 2018-01-06 16:21:22 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user5%')  [["user_id", 1]]
Completed 200 OK in 6ms (Views: 1.9ms | ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-01-06 16:51:15 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (14.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 42ms (Views: 41.4ms | ActiveRecord: 0.5ms)


Started GET "/Applies" for 127.0.0.1 at 2018-01-06 16:51:34 +0800

ActionController::RoutingError (No route matches [GET] "/Applies"):
  actionpack (4.2.5.2) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.3.0) lib/web_console/middleware.rb:28:in `block in call'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `catch'
  web-console (2.3.0) lib/web_console/middleware.rb:18:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.5.2) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.5.2) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.5.2) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.5.2) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.5) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.5) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.5.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.5) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.5.2) lib/action_dispatch/middleware/static.rb:116:in `call'
  rack (1.6.5) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.5.2) lib/rails/engine.rb:518:in `call'
  railties (4.2.5.2) lib/rails/application.rb:165:in `call'
  rack (1.6.5) lib/rack/content_length.rb:15:in `call'
  thin (1.7.0) lib/thin/connection.rb:86:in `block in pre_process'
  thin (1.7.0) lib/thin/connection.rb:84:in `catch'
  thin (1.7.0) lib/thin/connection.rb:84:in `pre_process'
  thin (1.7.0) lib/thin/connection.rb:53:in `process'
  thin (1.7.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (1.2.2) lib/eventmachine.rb:194:in `run_machine'
  eventmachine (1.2.2) lib/eventmachine.rb:194:in `run'
  thin (1.7.0) lib/thin/backends/base.rb:73:in `start'
  thin (1.7.0) lib/thin/server.rb:162:in `start'
  rack (1.6.5) lib/rack/handler/thin.rb:19:in `run'
  rack (1.6.5) lib/rack/server.rb:286:in `start'
  railties (4.2.5.2) lib/rails/commands/server.rb:80:in `start'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:80:in `block in server'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:75:in `tap'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:75:in `server'
  railties (4.2.5.2) lib/rails/commands/commands_tasks.rb:39:in `run_command!'
  railties (4.2.5.2) lib/rails/commands.rb:17:in `<top (required)>'
  bin/rails:4:in `require'
  bin/rails:4:in `<main>'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (14.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (100.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (12.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (25.7ms)


Started GET "/applies" for 127.0.0.1 at 2018-01-06 16:51:42 +0800
Processing by AppliesController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)

NameError (uninitialized constant AppliesController::Applies):
  app/controllers/applies_controller.rb:8:in `index'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (19.8ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (26.7ms)


Started GET "/applies" for 127.0.0.1 at 2018-01-06 16:52:12 +0800
Processing by AppliesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered applies/index.html.erb within layouts/application (1.7ms)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.6ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    12:   </thead>
    13: 
    14:   <tbody>
    15:     <% @applies.each do |apply| %>
    16:       <tr>
    17:         <td><%= apply.user_id %></td>
    18:         <td><%= apply.friend_id %></td>
  app/views/applies/index.html.erb:15:in `_app_views_applies_index_html_erb___3578114118788956946_47267299757740'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (19.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (26.3ms)


Started GET "/applies" for 127.0.0.1 at 2018-01-06 16:53:22 +0800
Processing by AppliesController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT "applies".* FROM "applies"[0m
  Rendered applies/index.html.erb within layouts/application (3.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 48ms (Views: 32.3ms | ActiveRecord: 0.8ms)


Started GET "/applies/new" for 127.0.0.1 at 2018-01-06 17:26:58 +0800
Processing by AppliesController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered applies/_form.html.erb (2.0ms)
  Rendered applies/new.html.erb within layouts/application (2.9ms)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)

ActionView::Template::Error (First argument in form cannot contain nil or be empty):
    1: <%= form_for(@apply) do |f| %>
    2:   <% if @apply.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@apply.errors.count, "error") %> prohibited this apply from being saved:</h2>
  app/views/applies/_form.html.erb:1:in `_app_views_applies__form_html_erb__2989351772209158310_47267338153660'
  app/views/applies/new.html.erb:3:in `_app_views_applies_new_html_erb___2451658651845059217_47267338197520'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (22.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (26.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 17:33:46 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.3ms)
  Rendered chats/_search_fridends.html.erb (0.3ms)
  Rendered chats/_navside.html.erb (15.7ms)
  Rendered chats/index.html.erb within layouts/application (16.2ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 67ms (Views: 42.6ms | ActiveRecord: 1.4ms)


Started GET "/applies" for 127.0.0.1 at 2018-01-06 18:31:45 +0800
Processing by AppliesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies"
  Rendered applies/index.html.erb within layouts/application (4.5ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.0ms)
Completed 200 OK in 36ms (Views: 32.0ms | ActiveRecord: 0.5ms)


Started GET "/applies/index" for 127.0.0.1 at 2018-01-06 18:31:49 +0800
Processing by AppliesController#show as HTML
  Parameters: {"id"=>"index"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered applies/show.html.erb within layouts/application (2.0ms)
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)

ActionView::Template::Error (undefined method `user_id' for nil:NilClass):
    2: 
    3: <p>
    4:   <strong>User:</strong>
    5:   <%= @apply.user_id %>
    6: </p>
    7: 
    8: <p>
  app/views/applies/show.html.erb:5:in `_app_views_applies_show_html_erb__1174678042790430133_47267333110420'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (20.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (26.3ms)


Started GET "/applies" for 127.0.0.1 at 2018-01-06 18:32:02 +0800
Processing by AppliesController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT "applies".* FROM "applies"[0m
  Rendered applies/index.html.erb within layouts/application (1.4ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 43ms (Views: 41.2ms | ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-01-06 18:36:46 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 36ms (Views: 35.5ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 18:36:48 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.5ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.9ms)
  Rendered chats/index.html.erb within layouts/application (5.3ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 37ms (Views: 34.4ms | ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 18:36:53 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.1ms)
  Rendered chats/index.html.erb within layouts/application (8.2ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 56ms (Views: 51.4ms | ActiveRecord: 0.4ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 18:37:30 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.6ms)
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (7.6ms)
  Rendered chats/index.html.erb within layouts/application (8.4ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 44ms (Views: 40.5ms | ActiveRecord: 0.4ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 18:37:35 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.1ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.4ms)
  Rendered chats/index.html.erb within layouts/application (7.1ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 53ms (Views: 49.3ms | ActiveRecord: 0.4ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 18:40:06 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.5ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (9.1ms)
  Rendered chats/index.html.erb within layouts/application (9.9ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 57ms (Views: 52.8ms | ActiveRecord: 0.4ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 18:41:43 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.7ms)
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (7.5ms)
  Rendered chats/index.html.erb within layouts/application (8.3ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 49ms (Views: 44.9ms | ActiveRecord: 0.5ms)


Started GET "/applies" for 127.0.0.1 at 2018-01-06 18:41:46 +0800
Processing by AppliesController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.1ms)[0m  SELECT "applies".* FROM "applies"
  Rendered applies/_apply.json.jbuilder (0.7ms)
  Rendered applies/index.json.jbuilder (35.9ms)
Completed 200 OK in 42ms (Views: 41.0ms | ActiveRecord: 0.2ms)


Started GET "/applies" for 127.0.0.1 at 2018-01-06 18:42:51 +0800
Processing by AppliesController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.1ms)[0m  SELECT "applies".* FROM "applies"
  Rendered applies/_apply.json.jbuilder (0.3ms)
  Rendered applies/index.json.jbuilder (1.8ms)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 18:46:53 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.5ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (8.0ms)
  Rendered chats/index.html.erb within layouts/application (9.1ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 63ms (Views: 59.4ms | ActiveRecord: 0.4ms)


Started GET "/applies" for 127.0.0.1 at 2018-01-06 18:46:54 +0800
Processing by AppliesController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.1ms)[0m  SELECT "applies".* FROM "applies"
  Rendered applies/_apply.json.jbuilder (0.4ms)
  Rendered applies/index.json.jbuilder (2.1ms)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.3ms)


Started GET "/applies" for 127.0.0.1 at 2018-01-06 18:46:58 +0800
Processing by AppliesController#index as JSON
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies"
  Rendered applies/_apply.json.jbuilder (0.4ms)
  Rendered applies/index.json.jbuilder (2.1ms)
Completed 200 OK in 13ms (Views: 10.9ms | ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 18:48:01 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.8ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (8.1ms)
  Rendered chats/index.html.erb within layouts/application (8.8ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 52ms (Views: 47.7ms | ActiveRecord: 0.4ms)


Started GET "/applies" for 127.0.0.1 at 2018-01-06 18:48:03 +0800
Processing by AppliesController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies"
  Rendered applies/_apply.json.jbuilder (0.5ms)
  Rendered applies/index.json.jbuilder (2.8ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 18:49:18 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.5ms)
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (6.4ms)
  Rendered chats/index.html.erb within layouts/application (7.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 44ms (Views: 40.9ms | ActiveRecord: 0.4ms)


Started GET "/applies" for 127.0.0.1 at 2018-01-06 18:49:19 +0800
Processing by AppliesController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.1ms)[0m  SELECT "applies".* FROM "applies"
  Rendered applies/_apply.json.jbuilder (0.3ms)
  Rendered applies/index.json.jbuilder (2.1ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 18:50:11 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.6ms)
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (8.0ms)
  Rendered chats/index.html.erb within layouts/application (8.8ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 54ms (Views: 49.8ms | ActiveRecord: 0.4ms)


Started GET "/applies" for 127.0.0.1 at 2018-01-06 18:50:13 +0800
Processing by AppliesController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.1ms)[0m  SELECT "applies".* FROM "applies"
  Rendered applies/_apply.json.jbuilder (0.3ms)
  Rendered applies/index.json.jbuilder (1.9ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 18:50:23 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.6ms)
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (8.4ms)
  Rendered chats/index.html.erb within layouts/application (9.5ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 58ms (Views: 53.6ms | ActiveRecord: 0.4ms)


Started GET "/applies" for 127.0.0.1 at 2018-01-06 18:50:24 +0800
Processing by AppliesController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies"
  Rendered applies/_apply.json.jbuilder (0.4ms)
  Rendered applies/index.json.jbuilder (2.0ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 18:50:33 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.5ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.1ms)
  Rendered chats/index.html.erb within layouts/application (7.8ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 50ms (Views: 46.0ms | ActiveRecord: 0.4ms)


Started GET "/applies" for 127.0.0.1 at 2018-01-06 18:50:34 +0800
Processing by AppliesController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.1ms)[0m  SELECT "applies".* FROM "applies"
  Rendered applies/_apply.json.jbuilder (0.3ms)
  Rendered applies/index.json.jbuilder (2.0ms)
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 18:51:09 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.6ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.6ms)
  Rendered chats/index.html.erb within layouts/application (8.3ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 55ms (Views: 51.7ms | ActiveRecord: 0.4ms)


Started GET "/applies" for 127.0.0.1 at 2018-01-06 18:51:10 +0800
Processing by AppliesController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.1ms)[0m  SELECT "applies".* FROM "applies"
  Rendered applies/_apply.json.jbuilder (0.4ms)
  Rendered applies/index.json.jbuilder (1.9ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 18:51:39 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.8ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (8.4ms)
  Rendered chats/index.html.erb within layouts/application (9.3ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 57ms (Views: 52.8ms | ActiveRecord: 0.5ms)


Started GET "/applies" for 127.0.0.1 at 2018-01-06 18:51:41 +0800
Processing by AppliesController#index as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.1ms)[0m  SELECT "applies".* FROM "applies"
  Rendered applies/_apply.json.jbuilder (0.4ms)
  Rendered applies/index.json.jbuilder (2.0ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.2ms)


Started GET "/applies" for 127.0.0.1 at 2018-01-06 18:58:40 +0800
Processing by AppliesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.1ms)[0m  SELECT  "applies".* FROM "applies" WHERE "applies"."user_id" = ? AND "applies"."friend_id" IS NULL LIMIT 1  [["user_id", 1]]
  Rendered applies/index.html.erb within layouts/application (1.1ms)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.9ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    12:   </thead>
    13: 
    14:   <tbody>
    15:     <% @applies.each do |apply| %>
    16:       <tr>
    17:         <td><%= apply.user_id %></td>
    18:         <td><%= apply.friend_id %></td>
  app/views/applies/index.html.erb:15:in `_app_views_applies_index_html_erb___3578114118788956946_47267299757740'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (20.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (14.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (27.5ms)


Started GET "/applies" for 127.0.0.1 at 2018-01-06 18:58:50 +0800
Processing by AppliesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.1ms)[0m  SELECT  "applies".* FROM "applies" WHERE "applies"."user_id" = ? AND "applies"."friend_id" IS NULL LIMIT 1  [["user_id", 1]]
  Rendered applies/index.html.erb within layouts/application (2.2ms)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.2ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    12:   </thead>
    13: 
    14:   <tbody>
    15:     <% @applies.each do |apply| %>
    16:       <tr>
    17:         <td><%= apply.user_id %></td>
    18:         <td><%= apply.friend_id %></td>
  app/views/applies/index.html.erb:15:in `_app_views_applies_index_html_erb___3578114118788956946_47267299757740'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.0ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (20.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.0ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (25.9ms)


Started GET "/applies?firend_id=1" for 127.0.0.1 at 2018-01-06 19:00:30 +0800
Processing by AppliesController#index as HTML
  Parameters: {"firend_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.1ms)[0m  SELECT  "applies".* FROM "applies" WHERE "applies"."user_id" = ? AND "applies"."friend_id" IS NULL LIMIT 1  [["user_id", 1]]
  Rendered applies/index.html.erb within layouts/application (1.1ms)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.9ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    12:   </thead>
    13: 
    14:   <tbody>
    15:     <% @applies.each do |apply| %>
    16:       <tr>
    17:         <td><%= apply.user_id %></td>
    18:         <td><%= apply.friend_id %></td>
  app/views/applies/index.html.erb:15:in `_app_views_applies_index_html_erb___3578114118788956946_47267299757740'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (21.8ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (26.6ms)


Started GET "/applies?friend_id=1" for 127.0.0.1 at 2018-01-06 19:00:43 +0800
Processing by AppliesController#index as HTML
  Parameters: {"friend_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.0ms)[0m  SELECT  "applies".* FROM "applies" WHERE "applies"."user_id" = ? AND "applies"."friend_id" IS NULL LIMIT 1  [["user_id", 1]]
  Rendered applies/index.html.erb within layouts/application (1.1ms)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    12:   </thead>
    13: 
    14:   <tbody>
    15:     <% @applies.each do |apply| %>
    16:       <tr>
    17:         <td><%= apply.user_id %></td>
    18:         <td><%= apply.friend_id %></td>
  app/views/applies/index.html.erb:15:in `_app_views_applies_index_html_erb___3578114118788956946_47267299757740'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (21.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (26.4ms)


Started GET "/applies" for 127.0.0.1 at 2018-01-06 19:11:22 +0800

SyntaxError (/home/runtu/pro/soft_engneering/RailsChat/app/controllers/applies_controller.rb:10: syntax error, unexpected '<', expecting keyword_end
    <% @applies.each do |apply| %>
     ^
/home/runtu/pro/soft_engneering/RailsChat/app/controllers/applies_controller.rb:10: syntax error, unexpected keyword_do, expecting keyword_end
    <% @applies.each do |apply| %>
                       ^
/home/runtu/pro/soft_engneering/RailsChat/app/controllers/applies_controller.rb:12: syntax error, unexpected '<', expecting keyword_end
        <td><%= apply.user_id %></td>
         ^
/home/runtu/pro/soft_engneering/RailsChat/app/controllers/applies_controller.rb:13: syntax error, unexpected tIDENTIFIER, expecting keyword_end
        <td><%= apply.friend_id %></td>
                     ^
/home/runtu/pro/soft_engneering/RailsChat/app/controllers/applies_controller.rb:14: syntax error, unexpected '<', expecting keyword_end
      </tr>
       ^
/home/runtu/pro/soft_engneering/RailsChat/app/controllers/applies_controller.rb:19: unknown regexp options - appl
/home/runtu/pro/soft_engneering/RailsChat/app/controllers/applies_controller.rb:53: syntax error, unexpected end-of-input, expecting keyword_end):
  app/controllers/applies_controller.rb:10: syntax error, unexpected '<', expecting keyword_end
  app/controllers/applies_controller.rb:10: syntax error, unexpected keyword_do, expecting keyword_end
  app/controllers/applies_controller.rb:12: syntax error, unexpected '<', expecting keyword_end
  app/controllers/applies_controller.rb:13: syntax error, unexpected tIDENTIFIER, expecting keyword_end
  app/controllers/applies_controller.rb:14: syntax error, unexpected '<', expecting keyword_end
  app/controllers/applies_controller.rb:19: unknown regexp options - appl
  app/controllers/applies_controller.rb:53: syntax error, unexpected end-of-input, expecting keyword_end


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (19.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (26.5ms)


Started GET "/" for 127.0.0.1 at 2018-01-06 19:21:19 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (14.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 46ms (Views: 44.6ms | ActiveRecord: 0.6ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 19:21:20 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.4ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (20.2ms)
  Rendered chats/index.html.erb within layouts/application (20.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 73ms (Views: 62.0ms | ActiveRecord: 1.1ms)


Started GET "/users/new_friends_json" for 127.0.0.1 at 2018-01-06 19:21:22 +0800
Processing by UsersController#show as JSON
  Parameters: {"id"=>"new_friends_json"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 0]]
Redirected to http://localhost:3000/
Filter chain halted as :set_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)


Started GET "/" for 127.0.0.1 at 2018-01-06 19:21:22 +0800
Processing by HomesController#home as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.9ms)
  Rendered layouts/_login_panel.html.erb (1.5ms)
  Rendered layouts/_header.html.erb (5.6ms)
  Rendered layouts/_content.html.erb (0.5ms)
Completed 200 OK in 42ms (Views: 41.7ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 19:22:49 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.4ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (15.9ms)
  Rendered chats/index.html.erb within layouts/application (16.4ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 73ms (Views: 46.0ms | ActiveRecord: 1.5ms)


Started GET "/users/new_friends_json" for 127.0.0.1 at 2018-01-06 19:22:50 +0800
Processing by UsersController#show as JSON
  Parameters: {"id"=>"new_friends_json"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 0]]
Redirected to http://localhost:3000/
Filter chain halted as :set_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)


Started GET "/" for 127.0.0.1 at 2018-01-06 19:22:50 +0800
Processing by HomesController#home as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 40ms (Views: 39.5ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 19:24:19 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.4ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (16.3ms)
  Rendered chats/index.html.erb within layouts/application (16.8ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 70ms (Views: 46.4ms | ActiveRecord: 1.4ms)


Started GET "/users/new_friends_json" for 127.0.0.1 at 2018-01-06 19:24:20 +0800
Processing by UsersController#show as JSON
  Parameters: {"id"=>"new_friends_json"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 0]]
Redirected to http://localhost:3000/
Filter chain halted as :set_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)


Started GET "/" for 127.0.0.1 at 2018-01-06 19:24:20 +0800
Processing by HomesController#home as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (3.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 40ms (Views: 39.7ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 19:25:34 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (15.8ms)
  Rendered chats/index.html.erb within layouts/application (16.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 69ms (Views: 45.1ms | ActiveRecord: 1.5ms)


Started GET "/users/new_friends_json" for 127.0.0.1 at 2018-01-06 19:25:35 +0800
Processing by UsersController#show as JSON
  Parameters: {"id"=>"new_friends_json"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 0]]
Redirected to http://localhost:3000/
Filter chain halted as :set_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)


Started GET "/" for 127.0.0.1 at 2018-01-06 19:25:35 +0800
Processing by HomesController#home as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (3.7ms)
  Rendered layouts/_content.html.erb (0.3ms)
Completed 200 OK in 40ms (Views: 39.5ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 19:26:52 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (16.2ms)
  Rendered chats/index.html.erb within layouts/application (16.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 69ms (Views: 45.5ms | ActiveRecord: 1.4ms)


Started GET "/users/new_friends_json" for 127.0.0.1 at 2018-01-06 19:26:54 +0800
Processing by UsersController#show as JSON
  Parameters: {"id"=>"new_friends_json"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 0]]
Redirected to http://localhost:3000/
Filter chain halted as :set_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)


Started GET "/" for 127.0.0.1 at 2018-01-06 19:26:54 +0800
Processing by HomesController#home as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (4.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 40ms (Views: 39.6ms | ActiveRecord: 0.1ms)


Started GET "/users/index_json?query=user5" for 127.0.0.1 at 2018-01-06 19:27:06 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user5%')[0m  [["user_id", 1]]
Completed 200 OK in 9ms (Views: 1.7ms | ActiveRecord: 0.8ms)


Started GET "/users/new_friends_json" for 127.0.0.1 at 2018-01-06 19:27:13 +0800
Processing by UsersController#show as JSON
  Parameters: {"id"=>"new_friends_json"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 0]]
Redirected to http://localhost:3000/
Filter chain halted as :set_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)


Started GET "/" for 127.0.0.1 at 2018-01-06 19:27:13 +0800
Processing by HomesController#home as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (3.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 37ms (Views: 36.6ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 19:28:57 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.3ms)
  Rendered chats/_search_fridends.html.erb (0.4ms)
  Rendered chats/_navside.html.erb (357.4ms)
  Rendered chats/index.html.erb within layouts/application (360.4ms)
  Rendered layouts/_login_panel.html.erb (4.1ms)
  Rendered layouts/_header.html.erb (5.7ms)
  Rendered layouts/_content.html.erb (0.4ms)
Completed 200 OK in 459ms (Views: 407.0ms | ActiveRecord: 1.6ms)


Started GET "/users/new_friends_json?query=user5" for 127.0.0.1 at 2018-01-06 19:28:59 +0800
Processing by UsersController#show as JSON
  Parameters: {"query"=>"user5", "id"=>"new_friends_json"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 0]]
Redirected to http://localhost:3000/
Filter chain halted as :set_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)


Started GET "/" for 127.0.0.1 at 2018-01-06 19:28:59 +0800
Processing by HomesController#home as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.9ms)
  Rendered layouts/_login_panel.html.erb (1.0ms)
  Rendered layouts/_header.html.erb (4.7ms)
  Rendered layouts/_content.html.erb (0.4ms)
Completed 200 OK in 41ms (Views: 40.1ms | ActiveRecord: 0.1ms)


Started GET "/users/index_json?query=user7" for 127.0.0.1 at 2018-01-06 19:29:36 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user7"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user7%')[0m  [["user_id", 1]]
Completed 200 OK in 7ms (Views: 1.4ms | ActiveRecord: 0.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 19:32:05 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.3ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.0ms)
  Rendered chats/index.html.erb within layouts/application (6.8ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 39ms (Views: 35.8ms | ActiveRecord: 0.4ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 19:32:06 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.1ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.4ms)
  Rendered chats/index.html.erb within layouts/application (7.1ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 63ms (Views: 58.9ms | ActiveRecord: 0.4ms)


Started GET "/users/index_json?query=user5" for 127.0.0.1 at 2018-01-06 19:32:08 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user5%')[0m  [["user_id", 1]]
Completed 200 OK in 6ms (Views: 1.6ms | ActiveRecord: 0.5ms)


Started GET "/users/index_json?query=user5" for 127.0.0.1 at 2018-01-06 19:32:17 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user5%')[0m  [["user_id", 1]]
Completed 200 OK in 5ms (Views: 1.6ms | ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 19:34:47 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.3ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (15.3ms)
  Rendered chats/index.html.erb within layouts/application (15.9ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 78ms (Views: 52.1ms | ActiveRecord: 1.5ms)


Started GET "/users/index_new_friends_json?query=user5" for 127.0.0.1 at 2018-01-06 19:34:52 +0800
Processing by UsersController#index_new_friends_json as JSON
  Parameters: {"query"=>"user5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user5%')[0m  [["user_id", 1]]
Completed 200 OK in 6ms (Views: 1.4ms | ActiveRecord: 0.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 19:35:54 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.3ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (15.3ms)
  Rendered chats/index.html.erb within layouts/application (15.8ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 68ms (Views: 44.7ms | ActiveRecord: 1.4ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-06 19:35:55 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT  "applies".* FROM "applies" WHERE "applies"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.6ms)

TypeError (no implicit conversion of Apply into String):
  app/models/user.rb:82:in `+'
  app/models/user.rb:82:in `search_new_friends'
  app/controllers/users_controller.rb:53:in `index_new_friends_json'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.8ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (15.0ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 20:21:59 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (15.7ms)
  Rendered chats/index.html.erb within layouts/application (16.2ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 68ms (Views: 43.8ms | ActiveRecord: 1.5ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-06 20:22:00 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)

NoMethodError (undefined method `user_id' for #<Class:0x00556670cb6098>):
  app/models/user.rb:81:in `search_new_friends'
  app/controllers/users_controller.rb:53:in `index_new_friends_json'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (1.0ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (15.8ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 20:22:45 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (18.5ms)
  Rendered chats/index.html.erb within layouts/application (18.9ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 78ms (Views: 52.5ms | ActiveRecord: 1.7ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-06 20:22:47 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 21:42:20 +0800
Processing by ChatsController#index as HTML
Redirected to http://localhost:3000/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)


Started GET "/" for 127.0.0.1 at 2018-01-06 21:42:20 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_login_panel.html.erb (1.0ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 44ms (Views: 43.2ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-01-06 21:42:25 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"zSdaftlpLNS/CGPP+D0hMcup35acRMS6aQV2ZO+ZRU2EEBHfVLbBoKt/E1kAvjYSDWSxMcKwmfyTZacnYiSdAg==", "session"=>{"email"=>"user1@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user1@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 86ms (ActiveRecord: 1.0ms)


Started GET "/" for 127.0.0.1 at 2018-01-06 21:42:25 +0800
Processing by HomesController#home as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.7ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.2ms)
Completed 200 OK in 38ms (Views: 38.0ms | ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 21:42:28 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.6ms)
  Rendered chats/_navside.html.erb (21.9ms)
  Rendered chats/index.html.erb within layouts/application (22.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 74ms (Views: 59.4ms | ActiveRecord: 1.2ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-06 21:42:30 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms)

NoMethodError (protected method `select' called for #<ActiveRecord::ConnectionAdapters::SQLite3Adapter:0x0055666f1ed658>):
  app/models/user.rb:84:in `search_new_friends'
  app/controllers/users_controller.rb:53:in `index_new_friends_json'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.8ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (25.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 21:43:51 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (15.3ms)
  Rendered chats/index.html.erb within layouts/application (15.7ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 67ms (Views: 44.5ms | ActiveRecord: 1.3ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-06 21:43:58 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.2ms)

NoMethodError (protected method `select' called for #<ActiveRecord::ConnectionAdapters::SQLite3Adapter:0x0055666f1dce70>):
  app/models/user.rb:86:in `search_new_friends'
  app/controllers/users_controller.rb:53:in `index_new_friends_json'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (16.8ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 21:44:57 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (16.9ms)
  Rendered chats/index.html.erb within layouts/application (17.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 74ms (Views: 48.3ms | ActiveRecord: 1.5ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-06 21:44:59 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)

TypeError (no implicit conversion of User into String):
  app/models/user.rb:83:in `+'
  app/models/user.rb:83:in `search_new_friends'
  app/controllers/users_controller.rb:53:in `index_new_friends_json'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.8ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (15.9ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 21:48:03 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (15.1ms)
  Rendered chats/index.html.erb within layouts/application (15.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 80ms (Views: 44.0ms | ActiveRecord: 1.6ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-06 21:48:05 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)

TypeError (no implicit conversion of User into String):
  app/models/user.rb:84:in `+'
  app/models/user.rb:84:in `search_new_friends'
  app/controllers/users_controller.rb:53:in `index_new_friends_json'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (15.8ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 21:49:19 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (16.4ms)
  Rendered chats/index.html.erb within layouts/application (16.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 69ms (Views: 45.7ms | ActiveRecord: 1.3ms)


Started GET "/assets/application.self-fc5ef4014c165b083930c31c5bb5af2d68792bf18ff206787252a5c23a225da0.css?body=1" for 127.0.0.1 at 2018-01-06 21:49:19 +0800


Started GET "/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" for 127.0.0.1 at 2018-01-06 21:49:19 +0800


Started GET "/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1" for 127.0.0.1 at 2018-01-06 21:49:19 +0800


Started GET "/assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1" for 127.0.0.1 at 2018-01-06 21:49:19 +0800


Started GET "/assets/bootstrap.min.self-504d59678f10d79a661b6cecdce5b8c1d5bfd98e860614584c0a40399552d61f.js?body=1" for 127.0.0.1 at 2018-01-06 21:49:19 +0800


Started GET "/assets/bootstrap.file-input.self-467aac2b264df4efd6b902977182473cd79513a25b2028999facfa8ab1133fec.js?body=1" for 127.0.0.1 at 2018-01-06 21:49:19 +0800


Started GET "/assets/sync.self-570ed504e84206f050c8bc30d052d71600f341b859ea362960c1fc810fcbb46a.js?body=1" for 127.0.0.1 at 2018-01-06 21:49:19 +0800


Started GET "/assets/select2.min.self-29080377793c2a531be0bad7d46aa3fcf1ede0008ebf68b1e4f97927f368ac38.js?body=1" for 127.0.0.1 at 2018-01-06 21:49:19 +0800


Started GET "/assets/toastr.min.self-d1e748daa450eccf497f106231f0e799b278d085d431d75f1df5eef9968808bd.js?body=1" for 127.0.0.1 at 2018-01-06 21:49:19 +0800


Started GET "/assets/application.self-10ad0916cf31256fe71785e8dc9cc297a96b1cdf7b74aeb61711199b9a3d003f.js?body=1" for 127.0.0.1 at 2018-01-06 21:49:19 +0800


Started GET "/assets/user-icon-59b0a754a338d30a655e86d27205a3c685c0c9b10d77e3a997dcf2bca92c9b1b.png" for 127.0.0.1 at 2018-01-06 21:49:19 +0800


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-06 21:49:21 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms)

NoMethodError (protected method `select' called for #<ActiveRecord::ConnectionAdapters::SQLite3Adapter:0x0055667025b2d8>):
  app/models/user.rb:87:in `search_new_friends'
  app/controllers/users_controller.rb:53:in `index_new_friends_json'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (1.0ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (18.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 21:50:12 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (14.7ms)
  Rendered chats/index.html.erb within layouts/application (15.2ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 78ms (Views: 56.3ms | ActiveRecord: 1.3ms)


Started GET "/assets/application.self-fc5ef4014c165b083930c31c5bb5af2d68792bf18ff206787252a5c23a225da0.css?body=1" for 127.0.0.1 at 2018-01-06 21:50:12 +0800


Started GET "/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" for 127.0.0.1 at 2018-01-06 21:50:12 +0800


Started GET "/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1" for 127.0.0.1 at 2018-01-06 21:50:12 +0800


Started GET "/assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1" for 127.0.0.1 at 2018-01-06 21:50:12 +0800


Started GET "/assets/bootstrap.min.self-504d59678f10d79a661b6cecdce5b8c1d5bfd98e860614584c0a40399552d61f.js?body=1" for 127.0.0.1 at 2018-01-06 21:50:12 +0800


Started GET "/assets/bootstrap.file-input.self-467aac2b264df4efd6b902977182473cd79513a25b2028999facfa8ab1133fec.js?body=1" for 127.0.0.1 at 2018-01-06 21:50:12 +0800


Started GET "/assets/sync.self-570ed504e84206f050c8bc30d052d71600f341b859ea362960c1fc810fcbb46a.js?body=1" for 127.0.0.1 at 2018-01-06 21:50:12 +0800


Started GET "/assets/select2.min.self-29080377793c2a531be0bad7d46aa3fcf1ede0008ebf68b1e4f97927f368ac38.js?body=1" for 127.0.0.1 at 2018-01-06 21:50:12 +0800


Started GET "/assets/toastr.min.self-d1e748daa450eccf497f106231f0e799b278d085d431d75f1df5eef9968808bd.js?body=1" for 127.0.0.1 at 2018-01-06 21:50:12 +0800


Started GET "/assets/application.self-10ad0916cf31256fe71785e8dc9cc297a96b1cdf7b74aeb61711199b9a3d003f.js?body=1" for 127.0.0.1 at 2018-01-06 21:50:12 +0800


Started GET "/assets/user-icon-59b0a754a338d30a655e86d27205a3c685c0c9b10d77e3a997dcf2bca92c9b1b.png" for 127.0.0.1 at 2018-01-06 21:50:12 +0800


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-06 21:50:14 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)

NoMethodError (protected method `select' called for #<ActiveRecord::ConnectionAdapters::SQLite3Adapter:0x005566701fefd8>):
  app/models/user.rb:88:in `search_new_friends'
  app/controllers/users_controller.rb:53:in `index_new_friends_json'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (17.8ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 21:50:36 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (16.1ms)
  Rendered chats/index.html.erb within layouts/application (16.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 71ms (Views: 47.0ms | ActiveRecord: 1.4ms)


Started GET "/assets/application.self-fc5ef4014c165b083930c31c5bb5af2d68792bf18ff206787252a5c23a225da0.css?body=1" for 127.0.0.1 at 2018-01-06 21:50:36 +0800


Started GET "/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" for 127.0.0.1 at 2018-01-06 21:50:36 +0800


Started GET "/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1" for 127.0.0.1 at 2018-01-06 21:50:36 +0800


Started GET "/assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1" for 127.0.0.1 at 2018-01-06 21:50:36 +0800


Started GET "/assets/bootstrap.min.self-504d59678f10d79a661b6cecdce5b8c1d5bfd98e860614584c0a40399552d61f.js?body=1" for 127.0.0.1 at 2018-01-06 21:50:36 +0800


Started GET "/assets/bootstrap.file-input.self-467aac2b264df4efd6b902977182473cd79513a25b2028999facfa8ab1133fec.js?body=1" for 127.0.0.1 at 2018-01-06 21:50:36 +0800


Started GET "/assets/sync.self-570ed504e84206f050c8bc30d052d71600f341b859ea362960c1fc810fcbb46a.js?body=1" for 127.0.0.1 at 2018-01-06 21:50:36 +0800


Started GET "/assets/select2.min.self-29080377793c2a531be0bad7d46aa3fcf1ede0008ebf68b1e4f97927f368ac38.js?body=1" for 127.0.0.1 at 2018-01-06 21:50:36 +0800


Started GET "/assets/toastr.min.self-d1e748daa450eccf497f106231f0e799b278d085d431d75f1df5eef9968808bd.js?body=1" for 127.0.0.1 at 2018-01-06 21:50:36 +0800


Started GET "/assets/application.self-10ad0916cf31256fe71785e8dc9cc297a96b1cdf7b74aeb61711199b9a3d003f.js?body=1" for 127.0.0.1 at 2018-01-06 21:50:36 +0800


Started GET "/assets/user-icon-59b0a754a338d30a655e86d27205a3c685c0c9b10d77e3a997dcf2bca92c9b1b.png" for 127.0.0.1 at 2018-01-06 21:50:36 +0800


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-06 21:50:39 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)

NoMethodError (protected method `select' called for #<ActiveRecord::ConnectionAdapters::SQLite3Adapter:0x0055667166fe40>):
  app/models/user.rb:88:in `search_new_friends'
  app/controllers/users_controller.rb:53:in `index_new_friends_json'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (17.8ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 21:51:33 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (15.5ms)
  Rendered chats/index.html.erb within layouts/application (15.9ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 79ms (Views: 44.7ms | ActiveRecord: 1.3ms)


Started GET "/assets/application.self-fc5ef4014c165b083930c31c5bb5af2d68792bf18ff206787252a5c23a225da0.css?body=1" for 127.0.0.1 at 2018-01-06 21:51:33 +0800


Started GET "/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" for 127.0.0.1 at 2018-01-06 21:51:33 +0800


Started GET "/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1" for 127.0.0.1 at 2018-01-06 21:51:33 +0800


Started GET "/assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1" for 127.0.0.1 at 2018-01-06 21:51:33 +0800


Started GET "/assets/bootstrap.min.self-504d59678f10d79a661b6cecdce5b8c1d5bfd98e860614584c0a40399552d61f.js?body=1" for 127.0.0.1 at 2018-01-06 21:51:33 +0800


Started GET "/assets/bootstrap.file-input.self-467aac2b264df4efd6b902977182473cd79513a25b2028999facfa8ab1133fec.js?body=1" for 127.0.0.1 at 2018-01-06 21:51:33 +0800


Started GET "/assets/sync.self-570ed504e84206f050c8bc30d052d71600f341b859ea362960c1fc810fcbb46a.js?body=1" for 127.0.0.1 at 2018-01-06 21:51:33 +0800


Started GET "/assets/select2.min.self-29080377793c2a531be0bad7d46aa3fcf1ede0008ebf68b1e4f97927f368ac38.js?body=1" for 127.0.0.1 at 2018-01-06 21:51:33 +0800


Started GET "/assets/toastr.min.self-d1e748daa450eccf497f106231f0e799b278d085d431d75f1df5eef9968808bd.js?body=1" for 127.0.0.1 at 2018-01-06 21:51:33 +0800


Started GET "/assets/application.self-10ad0916cf31256fe71785e8dc9cc297a96b1cdf7b74aeb61711199b9a3d003f.js?body=1" for 127.0.0.1 at 2018-01-06 21:51:33 +0800


Started GET "/assets/user-icon-59b0a754a338d30a655e86d27205a3c685c0c9b10d77e3a997dcf2bca92c9b1b.png" for 127.0.0.1 at 2018-01-06 21:51:33 +0800


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-06 21:51:35 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)

NoMethodError (protected method `select' called for #<ActiveRecord::ConnectionAdapters::SQLite3Adapter:0x00556670b4cf90>):
  app/models/user.rb:88:in `search_new_friends'
  app/controllers/users_controller.rb:53:in `index_new_friends_json'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (17.8ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 21:53:35 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (16.1ms)
  Rendered chats/index.html.erb within layouts/application (16.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 71ms (Views: 45.7ms | ActiveRecord: 1.5ms)


Started GET "/assets/application.self-fc5ef4014c165b083930c31c5bb5af2d68792bf18ff206787252a5c23a225da0.css?body=1" for 127.0.0.1 at 2018-01-06 21:53:35 +0800


Started GET "/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" for 127.0.0.1 at 2018-01-06 21:53:35 +0800


Started GET "/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1" for 127.0.0.1 at 2018-01-06 21:53:35 +0800


Started GET "/assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1" for 127.0.0.1 at 2018-01-06 21:53:35 +0800


Started GET "/assets/bootstrap.min.self-504d59678f10d79a661b6cecdce5b8c1d5bfd98e860614584c0a40399552d61f.js?body=1" for 127.0.0.1 at 2018-01-06 21:53:35 +0800


Started GET "/assets/bootstrap.file-input.self-467aac2b264df4efd6b902977182473cd79513a25b2028999facfa8ab1133fec.js?body=1" for 127.0.0.1 at 2018-01-06 21:53:35 +0800


Started GET "/assets/sync.self-570ed504e84206f050c8bc30d052d71600f341b859ea362960c1fc810fcbb46a.js?body=1" for 127.0.0.1 at 2018-01-06 21:53:35 +0800


Started GET "/assets/select2.min.self-29080377793c2a531be0bad7d46aa3fcf1ede0008ebf68b1e4f97927f368ac38.js?body=1" for 127.0.0.1 at 2018-01-06 21:53:35 +0800


Started GET "/assets/toastr.min.self-d1e748daa450eccf497f106231f0e799b278d085d431d75f1df5eef9968808bd.js?body=1" for 127.0.0.1 at 2018-01-06 21:53:35 +0800


Started GET "/assets/application.self-10ad0916cf31256fe71785e8dc9cc297a96b1cdf7b74aeb61711199b9a3d003f.js?body=1" for 127.0.0.1 at 2018-01-06 21:53:35 +0800


Started GET "/assets/user-icon-59b0a754a338d30a655e86d27205a3c685c0c9b10d77e3a997dcf2bca92c9b1b.png" for 127.0.0.1 at 2018-01-06 21:53:36 +0800


Started GET "/users/index_json?query=11" for 127.0.0.1 at 2018-01-06 21:53:42 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"11"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%11%')[0m  [["user_id", 1]]
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.4ms)


Started POST "/applies?friend_id=11" for 127.0.0.1 at 2018-01-06 21:53:44 +0800
Processing by AppliesController#create as HTML
  Parameters: {"authenticity_token"=>"W/xUCCBhx+tAi+frDNazYxLWcNwgnDDuBrytcQfhRM0Syx+prb4qn1T8l330VaRA1Bsee35obaj83Hwyilycgg==", "friend_id"=>"11"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "applies" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["friend_id", 11], ["user_id", 1], ["created_at", "2018-01-06 13:53:44.154842"], ["updated_at", "2018-01-06 13:53:44.154842"]]
  [1m[36m (134.2ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats
Completed 302 Found in 153ms (ActiveRecord: 135.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 21:53:44 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.8ms)
  Rendered chats/index.html.erb within layouts/application (5.2ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 36ms (Views: 33.4ms | ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 21:54:38 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.0ms)
  Rendered chats/index.html.erb within layouts/application (7.6ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 57ms (Views: 52.8ms | ActiveRecord: 0.5ms)


Started GET "/users/index_json?query=12" for 127.0.0.1 at 2018-01-06 21:54:48 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"12"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%12%')[0m  [["user_id", 1]]
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started POST "/applies?friend_id=12" for 127.0.0.1 at 2018-01-06 21:54:49 +0800
Processing by AppliesController#create as HTML
  Parameters: {"authenticity_token"=>"kd23svnIzc/B2a4DvGGmAPCVrexGRvBkTQqn34cnaKnY6vwTdBcgu9Wu3pVE4rEjNljDSxiyrSK3anacCpqw5g==", "friend_id"=>"12"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "applies" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["friend_id", 12], ["user_id", 1], ["created_at", "2018-01-06 13:54:49.818411"], ["updated_at", "2018-01-06 13:54:49.818411"]]
  [1m[36m (105.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats
Completed 302 Found in 109ms (ActiveRecord: 105.6ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 21:54:49 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.0ms)
  Rendered chats/index.html.erb within layouts/application (5.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 49ms (Views: 46.9ms | ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 21:55:37 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (16.2ms)
  Rendered chats/index.html.erb within layouts/application (16.7ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 69ms (Views: 45.1ms | ActiveRecord: 1.4ms)


Started GET "/assets/application.self-fc5ef4014c165b083930c31c5bb5af2d68792bf18ff206787252a5c23a225da0.css?body=1" for 127.0.0.1 at 2018-01-06 21:55:37 +0800


Started GET "/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" for 127.0.0.1 at 2018-01-06 21:55:37 +0800


Started GET "/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1" for 127.0.0.1 at 2018-01-06 21:55:37 +0800


Started GET "/assets/bootstrap.min.self-504d59678f10d79a661b6cecdce5b8c1d5bfd98e860614584c0a40399552d61f.js?body=1" for 127.0.0.1 at 2018-01-06 21:55:37 +0800


Started GET "/assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1" for 127.0.0.1 at 2018-01-06 21:55:37 +0800


Started GET "/assets/bootstrap.file-input.self-467aac2b264df4efd6b902977182473cd79513a25b2028999facfa8ab1133fec.js?body=1" for 127.0.0.1 at 2018-01-06 21:55:37 +0800


Started GET "/assets/sync.self-570ed504e84206f050c8bc30d052d71600f341b859ea362960c1fc810fcbb46a.js?body=1" for 127.0.0.1 at 2018-01-06 21:55:37 +0800


Started GET "/assets/select2.min.self-29080377793c2a531be0bad7d46aa3fcf1ede0008ebf68b1e4f97927f368ac38.js?body=1" for 127.0.0.1 at 2018-01-06 21:55:37 +0800


Started GET "/assets/toastr.min.self-d1e748daa450eccf497f106231f0e799b278d085d431d75f1df5eef9968808bd.js?body=1" for 127.0.0.1 at 2018-01-06 21:55:37 +0800


Started GET "/assets/application.self-10ad0916cf31256fe71785e8dc9cc297a96b1cdf7b74aeb61711199b9a3d003f.js?body=1" for 127.0.0.1 at 2018-01-06 21:55:37 +0800


Started GET "/assets/user-icon-59b0a754a338d30a655e86d27205a3c685c0c9b10d77e3a997dcf2bca92c9b1b.png" for 127.0.0.1 at 2018-01-06 21:55:37 +0800


Started GET "/users/index_json?query=13" for 127.0.0.1 at 2018-01-06 21:55:46 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"13"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%13%')[0m  [["user_id", 1]]
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started POST "/applies?friend_id=13" for 127.0.0.1 at 2018-01-06 21:55:48 +0800
Processing by AppliesController#create as HTML
  Parameters: {"authenticity_token"=>"u/Ty1tJDhl0kr2eH3Ihlx2/rTU2lsxCaeFFBt2KH573yw7l3X5xrKTDYFxEkC3LkqSYj6vtHTdyCMZD07zo/8g==", "friend_id"=>"13"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "applies" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["friend_id", 13], ["user_id", 1], ["created_at", "2018-01-06 13:55:48.176522"], ["updated_at", "2018-01-06 13:55:48.176522"]]
  [1m[36m (103.9ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats
Completed 302 Found in 114ms (ActiveRecord: 104.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 21:55:48 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.5ms)
  Rendered chats/index.html.erb within layouts/application (5.0ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 37ms (Views: 34.6ms | ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 21:56:54 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (16.2ms)
  Rendered chats/index.html.erb within layouts/application (16.7ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 70ms (Views: 46.2ms | ActiveRecord: 1.5ms)


Started GET "/assets/application.self-fc5ef4014c165b083930c31c5bb5af2d68792bf18ff206787252a5c23a225da0.css?body=1" for 127.0.0.1 at 2018-01-06 21:56:54 +0800


Started GET "/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" for 127.0.0.1 at 2018-01-06 21:56:54 +0800


Started GET "/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1" for 127.0.0.1 at 2018-01-06 21:56:54 +0800


Started GET "/assets/bootstrap.file-input.self-467aac2b264df4efd6b902977182473cd79513a25b2028999facfa8ab1133fec.js?body=1" for 127.0.0.1 at 2018-01-06 21:56:54 +0800


Started GET "/assets/bootstrap.min.self-504d59678f10d79a661b6cecdce5b8c1d5bfd98e860614584c0a40399552d61f.js?body=1" for 127.0.0.1 at 2018-01-06 21:56:54 +0800


Started GET "/assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1" for 127.0.0.1 at 2018-01-06 21:56:54 +0800


Started GET "/assets/sync.self-570ed504e84206f050c8bc30d052d71600f341b859ea362960c1fc810fcbb46a.js?body=1" for 127.0.0.1 at 2018-01-06 21:56:54 +0800


Started GET "/assets/select2.min.self-29080377793c2a531be0bad7d46aa3fcf1ede0008ebf68b1e4f97927f368ac38.js?body=1" for 127.0.0.1 at 2018-01-06 21:56:54 +0800


Started GET "/assets/toastr.min.self-d1e748daa450eccf497f106231f0e799b278d085d431d75f1df5eef9968808bd.js?body=1" for 127.0.0.1 at 2018-01-06 21:56:54 +0800


Started GET "/assets/application.self-10ad0916cf31256fe71785e8dc9cc297a96b1cdf7b74aeb61711199b9a3d003f.js?body=1" for 127.0.0.1 at 2018-01-06 21:56:54 +0800


Started GET "/assets/user-icon-59b0a754a338d30a655e86d27205a3c685c0c9b10d77e3a997dcf2bca92c9b1b.png" for 127.0.0.1 at 2018-01-06 21:56:54 +0800


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-06 21:56:55 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)

NoMethodError (protected method `select' called for #<ActiveRecord::ConnectionAdapters::SQLite3Adapter:0x005566706322f8>):
  app/models/user.rb:91:in `search_new_friends'
  app/controllers/users_controller.rb:53:in `index_new_friends_json'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.0ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (19.0ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 21:59:12 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (16.1ms)
  Rendered chats/index.html.erb within layouts/application (16.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 71ms (Views: 45.3ms | ActiveRecord: 1.6ms)


Started GET "/assets/application.self-fc5ef4014c165b083930c31c5bb5af2d68792bf18ff206787252a5c23a225da0.css?body=1" for 127.0.0.1 at 2018-01-06 21:59:12 +0800


Started GET "/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" for 127.0.0.1 at 2018-01-06 21:59:12 +0800


Started GET "/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1" for 127.0.0.1 at 2018-01-06 21:59:12 +0800


Started GET "/assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1" for 127.0.0.1 at 2018-01-06 21:59:12 +0800


Started GET "/assets/bootstrap.min.self-504d59678f10d79a661b6cecdce5b8c1d5bfd98e860614584c0a40399552d61f.js?body=1" for 127.0.0.1 at 2018-01-06 21:59:12 +0800


Started GET "/assets/bootstrap.file-input.self-467aac2b264df4efd6b902977182473cd79513a25b2028999facfa8ab1133fec.js?body=1" for 127.0.0.1 at 2018-01-06 21:59:12 +0800


Started GET "/assets/sync.self-570ed504e84206f050c8bc30d052d71600f341b859ea362960c1fc810fcbb46a.js?body=1" for 127.0.0.1 at 2018-01-06 21:59:12 +0800


Started GET "/assets/select2.min.self-29080377793c2a531be0bad7d46aa3fcf1ede0008ebf68b1e4f97927f368ac38.js?body=1" for 127.0.0.1 at 2018-01-06 21:59:12 +0800


Started GET "/assets/toastr.min.self-d1e748daa450eccf497f106231f0e799b278d085d431d75f1df5eef9968808bd.js?body=1" for 127.0.0.1 at 2018-01-06 21:59:12 +0800


Started GET "/assets/application.self-10ad0916cf31256fe71785e8dc9cc297a96b1cdf7b74aeb61711199b9a3d003f.js?body=1" for 127.0.0.1 at 2018-01-06 21:59:12 +0800


Started GET "/assets/user-icon-59b0a754a338d30a655e86d27205a3c685c0c9b10d77e3a997dcf2bca92c9b1b.png" for 127.0.0.1 at 2018-01-06 21:59:12 +0800


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-06 21:59:15 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)

NameError (undefined local variable or method `friends_ids' for #<Class:0x005566706bb418>):
  app/models/user.rb:83:in `search_new_friends'
  app/controllers/users_controller.rb:53:in `index_new_friends_json'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (16.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 22:00:43 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (15.8ms)
  Rendered chats/index.html.erb within layouts/application (16.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 71ms (Views: 46.2ms | ActiveRecord: 1.5ms)


Started GET "/assets/application.self-fc5ef4014c165b083930c31c5bb5af2d68792bf18ff206787252a5c23a225da0.css?body=1" for 127.0.0.1 at 2018-01-06 22:00:43 +0800


Started GET "/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" for 127.0.0.1 at 2018-01-06 22:00:43 +0800


Started GET "/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1" for 127.0.0.1 at 2018-01-06 22:00:43 +0800


Started GET "/assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1" for 127.0.0.1 at 2018-01-06 22:00:43 +0800


Started GET "/assets/bootstrap.min.self-504d59678f10d79a661b6cecdce5b8c1d5bfd98e860614584c0a40399552d61f.js?body=1" for 127.0.0.1 at 2018-01-06 22:00:43 +0800


Started GET "/assets/bootstrap.file-input.self-467aac2b264df4efd6b902977182473cd79513a25b2028999facfa8ab1133fec.js?body=1" for 127.0.0.1 at 2018-01-06 22:00:43 +0800


Started GET "/assets/sync.self-570ed504e84206f050c8bc30d052d71600f341b859ea362960c1fc810fcbb46a.js?body=1" for 127.0.0.1 at 2018-01-06 22:00:43 +0800


Started GET "/assets/select2.min.self-29080377793c2a531be0bad7d46aa3fcf1ede0008ebf68b1e4f97927f368ac38.js?body=1" for 127.0.0.1 at 2018-01-06 22:00:43 +0800


Started GET "/assets/toastr.min.self-d1e748daa450eccf497f106231f0e799b278d085d431d75f1df5eef9968808bd.js?body=1" for 127.0.0.1 at 2018-01-06 22:00:43 +0800


Started GET "/assets/application.self-10ad0916cf31256fe71785e8dc9cc297a96b1cdf7b74aeb61711199b9a3d003f.js?body=1" for 127.0.0.1 at 2018-01-06 22:00:43 +0800


Started GET "/assets/user-icon-59b0a754a338d30a655e86d27205a3c685c0c9b10d77e3a997dcf2bca92c9b1b.png" for 127.0.0.1 at 2018-01-06 22:00:43 +0800


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-06 22:00:44 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)

NameError (undefined local variable or method `friends_ids' for #<Class:0x0055666f616400>):
  app/models/user.rb:83:in `search_new_friends'
  app/controllers/users_controller.rb:53:in `index_new_friends_json'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (16.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 22:03:10 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (16.1ms)
  Rendered chats/index.html.erb within layouts/application (16.5ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 69ms (Views: 45.6ms | ActiveRecord: 1.4ms)


Started GET "/assets/application.self-fc5ef4014c165b083930c31c5bb5af2d68792bf18ff206787252a5c23a225da0.css?body=1" for 127.0.0.1 at 2018-01-06 22:03:10 +0800


Started GET "/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" for 127.0.0.1 at 2018-01-06 22:03:10 +0800


Started GET "/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1" for 127.0.0.1 at 2018-01-06 22:03:10 +0800


Started GET "/assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1" for 127.0.0.1 at 2018-01-06 22:03:10 +0800


Started GET "/assets/bootstrap.min.self-504d59678f10d79a661b6cecdce5b8c1d5bfd98e860614584c0a40399552d61f.js?body=1" for 127.0.0.1 at 2018-01-06 22:03:10 +0800


Started GET "/assets/bootstrap.file-input.self-467aac2b264df4efd6b902977182473cd79513a25b2028999facfa8ab1133fec.js?body=1" for 127.0.0.1 at 2018-01-06 22:03:10 +0800


Started GET "/assets/sync.self-570ed504e84206f050c8bc30d052d71600f341b859ea362960c1fc810fcbb46a.js?body=1" for 127.0.0.1 at 2018-01-06 22:03:10 +0800


Started GET "/assets/select2.min.self-29080377793c2a531be0bad7d46aa3fcf1ede0008ebf68b1e4f97927f368ac38.js?body=1" for 127.0.0.1 at 2018-01-06 22:03:10 +0800


Started GET "/assets/toastr.min.self-d1e748daa450eccf497f106231f0e799b278d085d431d75f1df5eef9968808bd.js?body=1" for 127.0.0.1 at 2018-01-06 22:03:10 +0800


Started GET "/assets/application.self-10ad0916cf31256fe71785e8dc9cc297a96b1cdf7b74aeb61711199b9a3d003f.js?body=1" for 127.0.0.1 at 2018-01-06 22:03:10 +0800


Started GET "/assets/user-icon-59b0a754a338d30a655e86d27205a3c685c0c9b10d77e3a997dcf2bca92c9b1b.png" for 127.0.0.1 at 2018-01-06 22:03:10 +0800


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-06 22:03:13 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)

NameError (undefined local variable or method `friends_ids' for #<Class:0x00556671242930>):
  app/models/user.rb:83:in `search_new_friends'
  app/controllers/users_controller.rb:53:in `index_new_friends_json'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (16.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 22:03:56 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (31.2ms)
  Rendered chats/index.html.erb within layouts/application (31.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 84ms (Views: 59.5ms | ActiveRecord: 1.7ms)


Started GET "/assets/application.self-fc5ef4014c165b083930c31c5bb5af2d68792bf18ff206787252a5c23a225da0.css?body=1" for 127.0.0.1 at 2018-01-06 22:03:56 +0800


Started GET "/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" for 127.0.0.1 at 2018-01-06 22:03:56 +0800


Started GET "/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1" for 127.0.0.1 at 2018-01-06 22:03:56 +0800


Started GET "/assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1" for 127.0.0.1 at 2018-01-06 22:03:56 +0800


Started GET "/assets/bootstrap.min.self-504d59678f10d79a661b6cecdce5b8c1d5bfd98e860614584c0a40399552d61f.js?body=1" for 127.0.0.1 at 2018-01-06 22:03:56 +0800


Started GET "/assets/bootstrap.file-input.self-467aac2b264df4efd6b902977182473cd79513a25b2028999facfa8ab1133fec.js?body=1" for 127.0.0.1 at 2018-01-06 22:03:56 +0800


Started GET "/assets/sync.self-570ed504e84206f050c8bc30d052d71600f341b859ea362960c1fc810fcbb46a.js?body=1" for 127.0.0.1 at 2018-01-06 22:03:56 +0800


Started GET "/assets/select2.min.self-29080377793c2a531be0bad7d46aa3fcf1ede0008ebf68b1e4f97927f368ac38.js?body=1" for 127.0.0.1 at 2018-01-06 22:03:56 +0800


Started GET "/assets/toastr.min.self-d1e748daa450eccf497f106231f0e799b278d085d431d75f1df5eef9968808bd.js?body=1" for 127.0.0.1 at 2018-01-06 22:03:56 +0800


Started GET "/assets/application.self-10ad0916cf31256fe71785e8dc9cc297a96b1cdf7b74aeb61711199b9a3d003f.js?body=1" for 127.0.0.1 at 2018-01-06 22:03:56 +0800


Started GET "/assets/user-icon-59b0a754a338d30a655e86d27205a3c685c0c9b10d77e3a997dcf2bca92c9b1b.png" for 127.0.0.1 at 2018-01-06 22:03:56 +0800


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-06 22:03:58 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)

NoMethodError (protected method `select' called for #<ActiveRecord::ConnectionAdapters::SQLite3Adapter:0x0055666dda2f68>):
  app/models/user.rb:86:in `search_new_friends'
  app/controllers/users_controller.rb:53:in `index_new_friends_json'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.8ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (17.8ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 22:05:18 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (16.5ms)
  Rendered chats/index.html.erb within layouts/application (17.0ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 74ms (Views: 47.5ms | ActiveRecord: 1.7ms)


Started GET "/assets/application.self-fc5ef4014c165b083930c31c5bb5af2d68792bf18ff206787252a5c23a225da0.css?body=1" for 127.0.0.1 at 2018-01-06 22:05:18 +0800


Started GET "/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" for 127.0.0.1 at 2018-01-06 22:05:18 +0800


Started GET "/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1" for 127.0.0.1 at 2018-01-06 22:05:18 +0800


Started GET "/assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1" for 127.0.0.1 at 2018-01-06 22:05:18 +0800


Started GET "/assets/bootstrap.min.self-504d59678f10d79a661b6cecdce5b8c1d5bfd98e860614584c0a40399552d61f.js?body=1" for 127.0.0.1 at 2018-01-06 22:05:18 +0800


Started GET "/assets/bootstrap.file-input.self-467aac2b264df4efd6b902977182473cd79513a25b2028999facfa8ab1133fec.js?body=1" for 127.0.0.1 at 2018-01-06 22:05:18 +0800


Started GET "/assets/sync.self-570ed504e84206f050c8bc30d052d71600f341b859ea362960c1fc810fcbb46a.js?body=1" for 127.0.0.1 at 2018-01-06 22:05:18 +0800


Started GET "/assets/select2.min.self-29080377793c2a531be0bad7d46aa3fcf1ede0008ebf68b1e4f97927f368ac38.js?body=1" for 127.0.0.1 at 2018-01-06 22:05:18 +0800


Started GET "/assets/toastr.min.self-d1e748daa450eccf497f106231f0e799b278d085d431d75f1df5eef9968808bd.js?body=1" for 127.0.0.1 at 2018-01-06 22:05:18 +0800


Started GET "/assets/application.self-10ad0916cf31256fe71785e8dc9cc297a96b1cdf7b74aeb61711199b9a3d003f.js?body=1" for 127.0.0.1 at 2018-01-06 22:05:18 +0800


Started GET "/assets/user-icon-59b0a754a338d30a655e86d27205a3c685c0c9b10d77e3a997dcf2bca92c9b1b.png" for 127.0.0.1 at 2018-01-06 22:05:18 +0800


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-06 22:05:20 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 22:05:53 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (15.2ms)
  Rendered chats/index.html.erb within layouts/application (15.7ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 86ms (Views: 44.4ms | ActiveRecord: 1.5ms)


Started GET "/assets/application.self-fc5ef4014c165b083930c31c5bb5af2d68792bf18ff206787252a5c23a225da0.css?body=1" for 127.0.0.1 at 2018-01-06 22:05:53 +0800


Started GET "/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" for 127.0.0.1 at 2018-01-06 22:05:53 +0800


Started GET "/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1" for 127.0.0.1 at 2018-01-06 22:05:53 +0800


Started GET "/assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1" for 127.0.0.1 at 2018-01-06 22:05:53 +0800


Started GET "/assets/bootstrap.min.self-504d59678f10d79a661b6cecdce5b8c1d5bfd98e860614584c0a40399552d61f.js?body=1" for 127.0.0.1 at 2018-01-06 22:05:53 +0800


Started GET "/assets/bootstrap.file-input.self-467aac2b264df4efd6b902977182473cd79513a25b2028999facfa8ab1133fec.js?body=1" for 127.0.0.1 at 2018-01-06 22:05:53 +0800


Started GET "/assets/sync.self-570ed504e84206f050c8bc30d052d71600f341b859ea362960c1fc810fcbb46a.js?body=1" for 127.0.0.1 at 2018-01-06 22:05:53 +0800


Started GET "/assets/select2.min.self-29080377793c2a531be0bad7d46aa3fcf1ede0008ebf68b1e4f97927f368ac38.js?body=1" for 127.0.0.1 at 2018-01-06 22:05:53 +0800


Started GET "/assets/toastr.min.self-d1e748daa450eccf497f106231f0e799b278d085d431d75f1df5eef9968808bd.js?body=1" for 127.0.0.1 at 2018-01-06 22:05:53 +0800


Started GET "/assets/application.self-10ad0916cf31256fe71785e8dc9cc297a96b1cdf7b74aeb61711199b9a3d003f.js?body=1" for 127.0.0.1 at 2018-01-06 22:05:53 +0800


Started GET "/assets/user-icon-59b0a754a338d30a655e86d27205a3c685c0c9b10d77e3a997dcf2bca92c9b1b.png" for 127.0.0.1 at 2018-01-06 22:05:53 +0800


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-06 22:05:55 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.4ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-06 22:06:22 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (15.7ms)
  Rendered chats/index.html.erb within layouts/application (16.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 69ms (Views: 45.4ms | ActiveRecord: 1.4ms)


Started GET "/assets/application.self-fc5ef4014c165b083930c31c5bb5af2d68792bf18ff206787252a5c23a225da0.css?body=1" for 127.0.0.1 at 2018-01-06 22:06:22 +0800


Started GET "/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" for 127.0.0.1 at 2018-01-06 22:06:22 +0800


Started GET "/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1" for 127.0.0.1 at 2018-01-06 22:06:22 +0800


Started GET "/assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1" for 127.0.0.1 at 2018-01-06 22:06:22 +0800


Started GET "/assets/bootstrap.min.self-504d59678f10d79a661b6cecdce5b8c1d5bfd98e860614584c0a40399552d61f.js?body=1" for 127.0.0.1 at 2018-01-06 22:06:22 +0800


Started GET "/assets/bootstrap.file-input.self-467aac2b264df4efd6b902977182473cd79513a25b2028999facfa8ab1133fec.js?body=1" for 127.0.0.1 at 2018-01-06 22:06:22 +0800


Started GET "/assets/sync.self-570ed504e84206f050c8bc30d052d71600f341b859ea362960c1fc810fcbb46a.js?body=1" for 127.0.0.1 at 2018-01-06 22:06:22 +0800


Started GET "/assets/select2.min.self-29080377793c2a531be0bad7d46aa3fcf1ede0008ebf68b1e4f97927f368ac38.js?body=1" for 127.0.0.1 at 2018-01-06 22:06:22 +0800


Started GET "/assets/toastr.min.self-d1e748daa450eccf497f106231f0e799b278d085d431d75f1df5eef9968808bd.js?body=1" for 127.0.0.1 at 2018-01-06 22:06:22 +0800


Started GET "/assets/application.self-10ad0916cf31256fe71785e8dc9cc297a96b1cdf7b74aeb61711199b9a3d003f.js?body=1" for 127.0.0.1 at 2018-01-06 22:06:22 +0800


Started GET "/assets/user-icon-59b0a754a338d30a655e86d27205a3c685c0c9b10d77e3a997dcf2bca92c9b1b.png" for 127.0.0.1 at 2018-01-06 22:06:22 +0800


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-06 22:06:24 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.4ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')[0m
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 0.8ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 08:26:16 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ChatsController#index as HTML
  [1m[35mUser Load (11.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (8.0ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.4ms)
  Rendered chats/_search_fridends.html.erb (0.5ms)
  Rendered chats/_navside.html.erb (1391.1ms)
  Rendered chats/index.html.erb within layouts/application (1395.6ms)
  Rendered layouts/_login_panel.html.erb (14.8ms)
  Rendered layouts/_header.html.erb (16.7ms)
  Rendered layouts/_content.html.erb (0.6ms)
Completed 200 OK in 1855ms (Views: 1681.7ms | ActiveRecord: 21.1ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 08:26:20 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')[0m
Completed 200 OK in 16ms (Views: 0.1ms | ActiveRecord: 0.4ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 08:30:19 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')[0m
Completed 200 OK in 24ms (Views: 0.5ms | ActiveRecord: 1.0ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 08:30:50 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')[0m
Completed 200 OK in 28ms (Views: 0.5ms | ActiveRecord: 0.9ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 08:31:51 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')[0m
  [1m[35mApply Load (0.6ms)[0m  SELECT "applies".* FROM "applies" WHERE (users.user_id = '4')
Completed 500 Internal Server Error in 35ms (ActiveRecord: 1.6ms)

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: users.user_id: SELECT "applies".* FROM "applies" WHERE (users.user_id = '4')):
  app/models/user.rb:87:in `puts'
  app/models/user.rb:87:in `puts'
  app/models/user.rb:87:in `block in search_new_friends'
  app/models/user.rb:86:in `search_new_friends'
  app/controllers/users_controller.rb:53:in `index_new_friends_json'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (17.0ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 08:32:14 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')
  [1m[36mApply Load (0.5ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (users.user_id = '4')[0m
Completed 500 Internal Server Error in 26ms (ActiveRecord: 1.5ms)

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: users.user_id: SELECT "applies".* FROM "applies" WHERE (users.user_id = '4')):
  app/models/user.rb:87:in `block in search_new_friends'
  app/models/user.rb:86:in `search_new_friends'
  app/controllers/users_controller.rb:53:in `index_new_friends_json'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (15.6ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 08:33:10 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE (users.user_id = '4')
Completed 500 Internal Server Error in 24ms (ActiveRecord: 1.5ms)

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: users.user_id: SELECT "users".* FROM "users" WHERE (users.user_id = '4')):
  app/models/user.rb:87:in `block in search_new_friends'
  app/models/user.rb:86:in `search_new_friends'
  app/controllers/users_controller.rb:53:in `index_new_friends_json'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (16.6ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 08:34:07 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.1ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')
  [1m[36mUser Load (1.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.user_id = '4')[0m
Completed 500 Internal Server Error in 29ms (ActiveRecord: 2.6ms)

ActiveRecord::StatementInvalid (SQLite3::SQLException: no such column: users.user_id: SELECT "users".* FROM "users" WHERE (users.user_id = '4')):
  app/models/user.rb:88:in `block in search_new_friends'
  app/models/user.rb:86:in `search_new_friends'
  app/controllers/users_controller.rb:53:in `index_new_friends_json'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.0ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (17.4ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 08:34:36 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '4')
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '11')[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '12')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '13')[0m
Completed 200 OK in 34ms (Views: 0.7ms | ActiveRecord: 1.8ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 08:36:21 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '4')
Completed 500 Internal Server Error in 34ms (ActiveRecord: 1.2ms)

NoMethodError (undefined method `+' for {}:Hash):
  app/models/user.rb:88:in `block in search_new_friends'
  app/models/user.rb:87:in `search_new_friends'
  app/controllers/users_controller.rb:53:in `index_new_friends_json'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (15.0ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 08:38:47 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.1ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '4')[0m
Completed 500 Internal Server Error in 23ms (ActiveRecord: 1.2ms)

TypeError (no implicit conversion of Array into Hash):
  app/models/user.rb:88:in `merge'
  app/models/user.rb:88:in `block in search_new_friends'
  app/models/user.rb:87:in `search_new_friends'
  app/controllers/users_controller.rb:53:in `index_new_friends_json'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (14.9ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 08:43:44 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '4')
Completed 500 Internal Server Error in 26ms (ActiveRecord: 1.4ms)

TypeError (no implicit conversion of Array into Hash):
  app/models/user.rb:88:in `merge'
  app/models/user.rb:88:in `block in search_new_friends'
  app/models/user.rb:87:in `search_new_friends'
  app/controllers/users_controller.rb:53:in `index_new_friends_json'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.8ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (16.8ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 08:44:33 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '4')[0m
Completed 500 Internal Server Error in 38ms (ActiveRecord: 1.2ms)

TypeError (no implicit conversion of Array into Hash):
  app/models/user.rb:90:in `merge'
  app/models/user.rb:90:in `block in search_new_friends'
  app/models/user.rb:87:in `search_new_friends'
  app/controllers/users_controller.rb:53:in `index_new_friends_json'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.text.erb (0.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.text.erb (0.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.text.erb (15.6ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 08:46:40 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '4')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '11')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '12')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '13')[0m
Completed 200 OK in 24ms (Views: 0.1ms | ActiveRecord: 1.4ms)


Started GET "/users/index_json?query=user5" for 127.0.0.1 at 2018-01-08 08:47:52 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user5%')[0m  [["user_id", 1]]
Completed 200 OK in 21ms (Views: 0.1ms | ActiveRecord: 1.0ms)


Started GET "/users/index_json?query=user5" for 127.0.0.1 at 2018-01-08 08:48:25 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user5%')[0m  [["user_id", 1]]
Completed 200 OK in 23ms (Views: 0.2ms | ActiveRecord: 0.9ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 08:51:47 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '4')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '11')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '12')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '13')[0m
Completed 200 OK in 20ms (Views: 0.1ms | ActiveRecord: 1.4ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 08:52:18 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '4')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '11')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '12')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '13')[0m
Completed 200 OK in 22ms (Views: 0.2ms | ActiveRecord: 1.3ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 08:53:47 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '4')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '11')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '12')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '13')[0m
Completed 200 OK in 22ms (Views: 0.7ms | ActiveRecord: 1.3ms)


Started GET "/users/index_json?query=user5" for 127.0.0.1 at 2018-01-08 09:08:27 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user5%')[0m  [["user_id", 1]]
Completed 200 OK in 23ms (Views: 1.4ms | ActiveRecord: 1.0ms)


Started POST "/applies?friend_id=5" for 127.0.0.1 at 2018-01-08 09:08:31 +0800
Processing by AppliesController#create as HTML
  Parameters: {"authenticity_token"=>"qc8g8J1r1WNfMqksDECkblQcHiRL129yQvsmV8/wuvDg+GtRELQ4F0tF2br0w7NNktFwgxUjMjS4m/cUQk1ivw==", "friend_id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (5.7ms)[0m  INSERT INTO "applies" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["friend_id", 5], ["user_id", 1], ["created_at", "2018-01-08 01:08:31.460904"], ["updated_at", "2018-01-08 01:08:31.460904"]]
  [1m[36m (139.9ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats
Completed 302 Found in 180ms (ActiveRecord: 145.9ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 09:08:31 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.3ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (19.1ms)
  Rendered chats/index.html.erb within layouts/application (19.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 56ms (Views: 49.6ms | ActiveRecord: 0.8ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 09:08:34 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '4')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '11')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '12')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '13')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '5')
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.6ms)


Started POST "/friendships?friend_id=5" for 127.0.0.1 at 2018-01-08 09:08:38 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"5CSMNx87Ts9fAowh1GXk9/ZGOaHsBH7Wvx7S4HunlYatE8eWkuSju0t1/Lcs5vPUMItXBrLwI5BFfgOj9hpNyQ==", "friend_id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.1ms)[0m  SELECT  "applies".* FROM "applies" WHERE "applies"."user_id" = ? AND "applies"."friend_id" IS NULL LIMIT 1  [["user_id", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)

NoMethodError (undefined method `destroy' for nil:NilClass):
  app/controllers/friendships_controller.rb:7:in `create'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.8ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (18.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (467.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (495.8ms)


Started POST "/friendships?friend_id=5" for 127.0.0.1 at 2018-01-08 09:09:42 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"5CSMNx87Ts9fAowh1GXk9/ZGOaHsBH7Wvx7S4HunlYatE8eWkuSju0t1/Lcs5vPUMItXBrLwI5BFfgOj9hpNyQ==", "friend_id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.1ms)[0m  SELECT  "applies".* FROM "applies" WHERE "applies"."user_id" = ? AND "applies"."friend_id" IS NULL LIMIT 1  [["user_id", 1]]
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.8ms)

NoMethodError (undefined method `destroy' for nil:NilClass):
  app/controllers/friendships_controller.rb:7:in `create'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (18.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (26.0ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 09:17:27 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '4')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '11')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '12')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '13')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '5')[0m
Completed 200 OK in 27ms (Views: 0.9ms | ActiveRecord: 1.4ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 09:17:31 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (18.9ms)
  Rendered chats/index.html.erb within layouts/application (19.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 87ms (Views: 69.9ms | ActiveRecord: 1.4ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 09:17:33 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '4')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '11')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '12')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '13')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '5')
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.7ms)


Started POST "/friendships?friend_id=5" for 127.0.0.1 at 2018-01-08 09:17:34 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"dFTy/hntXTzpIRNrvgQkfA84vnW/ypEoZoWVj8y4bKU9Y7lflDKwSP1WY/1GhzNfyfXQ0uE+zG6c5UTMQQW06g==", "friend_id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.2ms)[0m  SELECT  "applies".* FROM "applies" WHERE "applies"."user_id" = ? AND "applies"."friend_id" IS NULL LIMIT 1  [["user_id", 1]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)

NoMethodError (undefined method `destroy' for nil:NilClass):
  app/controllers/friendships_controller.rb:7:in `create'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (19.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (27.0ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 09:23:31 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (16.0ms)
  Rendered chats/index.html.erb within layouts/application (16.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 70ms (Views: 45.6ms | ActiveRecord: 1.4ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 09:23:32 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '4')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '11')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '12')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '13')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '5')[0m
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 1.0ms)


Started POST "/friendships?friend_id=5" for 127.0.0.1 at 2018-01-08 09:23:34 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"3Nq/lMbJC1jDkvgMVSFnbZHO9PcjSE6AdFI+4lGybdaV7fQ1SxbmLNfliJqtonBOVwOaUH28E8aOMu+h3A+1mQ==", "friend_id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT  "applies".* FROM "applies" WHERE "applies"."user_id" = ? AND "applies"."friend_id" IS NULL LIMIT 1[0m  [["user_id", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)

NoMethodError (undefined method `destroy' for nil:NilClass):
  app/controllers/friendships_controller.rb:7:in `create'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (20.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (26.3ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 09:24:14 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '4')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '11')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '12')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '13')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '5')
Completed 200 OK in 5ms (Views: 0.9ms | ActiveRecord: 0.8ms)
  [1m[36mApply Load (1.1ms)[0m  [1mSELECT "applies".* FROM "applies"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE "applies"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users"  ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT  "applies".* FROM "applies" WHERE "applies"."user_id" = ? AND "applies"."friend_id" = ? LIMIT 1[0m  [["user_id", 1], ["friend_id", 5]]


Started GET "/chats" for 127.0.0.1 at 2018-01-08 09:30:03 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (16.4ms)
  Rendered chats/index.html.erb within layouts/application (17.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 71ms (Views: 47.1ms | ActiveRecord: 1.4ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 09:30:04 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '4')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '11')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '12')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '13')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '5')[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 0.9ms)


Started POST "/friendships?friend_id=5" for 127.0.0.1 at 2018-01-08 09:30:06 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"v/SgOyaZepPtYJywTiVV8dQk+mVUouamXwXZC1hN03b2w+uaq0aX5/kX7Ca2pkLSEumUwgpWu+ClZQhI1fALOQ==", "friend_id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT  "applies".* FROM "applies" WHERE "applies"."user_id" = ? AND "applies"."friend_id" IS NULL LIMIT 1[0m  [["user_id", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)

NoMethodError (undefined method `destroy' for nil:NilClass):
  app/controllers/friendships_controller.rb:7:in `create'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (19.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (14.0ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (27.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 09:31:21 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (16.2ms)
  Rendered chats/index.html.erb within layouts/application (16.7ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 71ms (Views: 47.1ms | ActiveRecord: 1.5ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 09:31:23 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '4')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '11')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '12')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '13')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '5')
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 0.9ms)


Started POST "/friendships?friend_id=5" for 127.0.0.1 at 2018-01-08 09:31:24 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"+mkQXXVtaNzS2gdpz52/TxP1ZUCnSo/DoHcpZaDkc1WzXlv8+LKFqMatd/83Hqhs1TgL5/m+0oVaF/gmLVmrGg==", "friend_id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.2ms)[0m  SELECT  "applies".* FROM "applies" WHERE "applies"."user_id" = ? AND "applies"."friend_id" IS NULL LIMIT 1  [["user_id", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)

NoMethodError (undefined method `destroy' for nil:NilClass):
  app/controllers/friendships_controller.rb:7:in `create'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.8ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (20.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (26.6ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 09:40:22 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (16.4ms)
  Rendered chats/index.html.erb within layouts/application (16.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 71ms (Views: 47.5ms | ActiveRecord: 1.4ms)


Started GET "/assets/application.self-fc5ef4014c165b083930c31c5bb5af2d68792bf18ff206787252a5c23a225da0.css?body=1" for 127.0.0.1 at 2018-01-08 09:40:22 +0800


Started GET "/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" for 127.0.0.1 at 2018-01-08 09:40:22 +0800


Started GET "/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1" for 127.0.0.1 at 2018-01-08 09:40:22 +0800


Started GET "/assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1" for 127.0.0.1 at 2018-01-08 09:40:22 +0800


Started GET "/assets/bootstrap.min.self-504d59678f10d79a661b6cecdce5b8c1d5bfd98e860614584c0a40399552d61f.js?body=1" for 127.0.0.1 at 2018-01-08 09:40:22 +0800


Started GET "/assets/bootstrap.file-input.self-467aac2b264df4efd6b902977182473cd79513a25b2028999facfa8ab1133fec.js?body=1" for 127.0.0.1 at 2018-01-08 09:40:22 +0800


Started GET "/assets/sync.self-570ed504e84206f050c8bc30d052d71600f341b859ea362960c1fc810fcbb46a.js?body=1" for 127.0.0.1 at 2018-01-08 09:40:22 +0800


Started GET "/assets/select2.min.self-29080377793c2a531be0bad7d46aa3fcf1ede0008ebf68b1e4f97927f368ac38.js?body=1" for 127.0.0.1 at 2018-01-08 09:40:22 +0800


Started GET "/assets/toastr.min.self-d1e748daa450eccf497f106231f0e799b278d085d431d75f1df5eef9968808bd.js?body=1" for 127.0.0.1 at 2018-01-08 09:40:22 +0800


Started GET "/assets/application.self-10ad0916cf31256fe71785e8dc9cc297a96b1cdf7b74aeb61711199b9a3d003f.js?body=1" for 127.0.0.1 at 2018-01-08 09:40:22 +0800


Started GET "/assets/user-icon-59b0a754a338d30a655e86d27205a3c685c0c9b10d77e3a997dcf2bca92c9b1b.png" for 127.0.0.1 at 2018-01-08 09:40:22 +0800


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 09:40:24 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.3ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '4')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '11')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '12')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '13')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '5')[0m
Completed 200 OK in 13ms (Views: 1.0ms | ActiveRecord: 1.3ms)


Started POST "/friendships?friend_id=5" for 127.0.0.1 at 2018-01-08 09:40:25 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"RSheyiYeDdNGVqybu9nI+SxlThfyrse82ClfIYNzNOQMHxVrq8Hgp1Ih3A1DWt/a6qggsKxamvoiSY5iDs7sqw==", "friend_id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT  "applies".* FROM "applies" WHERE "applies"."user_id" = ? AND "applies"."friend_id" IS NULL LIMIT 1[0m  [["user_id", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.2ms)

NoMethodError (undefined method `destroy' for nil:NilClass):
  app/controllers/friendships_controller.rb:7:in `create'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (19.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (26.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 09:52:56 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (16.6ms)
  Rendered chats/index.html.erb within layouts/application (17.1ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 72ms (Views: 48.0ms | ActiveRecord: 1.4ms)


Started GET "/assets/application.self-fc5ef4014c165b083930c31c5bb5af2d68792bf18ff206787252a5c23a225da0.css?body=1" for 127.0.0.1 at 2018-01-08 09:52:56 +0800


Started GET "/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" for 127.0.0.1 at 2018-01-08 09:52:56 +0800


Started GET "/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1" for 127.0.0.1 at 2018-01-08 09:52:56 +0800


Started GET "/assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1" for 127.0.0.1 at 2018-01-08 09:52:56 +0800


Started GET "/assets/bootstrap.min.self-504d59678f10d79a661b6cecdce5b8c1d5bfd98e860614584c0a40399552d61f.js?body=1" for 127.0.0.1 at 2018-01-08 09:52:56 +0800


Started GET "/assets/bootstrap.file-input.self-467aac2b264df4efd6b902977182473cd79513a25b2028999facfa8ab1133fec.js?body=1" for 127.0.0.1 at 2018-01-08 09:52:56 +0800


Started GET "/assets/sync.self-570ed504e84206f050c8bc30d052d71600f341b859ea362960c1fc810fcbb46a.js?body=1" for 127.0.0.1 at 2018-01-08 09:52:56 +0800


Started GET "/assets/select2.min.self-29080377793c2a531be0bad7d46aa3fcf1ede0008ebf68b1e4f97927f368ac38.js?body=1" for 127.0.0.1 at 2018-01-08 09:52:56 +0800


Started GET "/assets/toastr.min.self-d1e748daa450eccf497f106231f0e799b278d085d431d75f1df5eef9968808bd.js?body=1" for 127.0.0.1 at 2018-01-08 09:52:56 +0800


Started GET "/assets/application.self-10ad0916cf31256fe71785e8dc9cc297a96b1cdf7b74aeb61711199b9a3d003f.js?body=1" for 127.0.0.1 at 2018-01-08 09:52:56 +0800


Started GET "/assets/user-icon-59b0a754a338d30a655e86d27205a3c685c0c9b10d77e3a997dcf2bca92c9b1b.png" for 127.0.0.1 at 2018-01-08 09:52:56 +0800


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 09:52:57 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '4')
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '11')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '12')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '13')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '5')
Completed 200 OK in 10ms (Views: 0.9ms | ActiveRecord: 1.1ms)


Started POST "/friendships?friend_id=5" for 127.0.0.1 at 2018-01-08 09:52:58 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"5Y2N9JqZFbD7TMqTwNTBQY6bouDc95+g8WyvSaxDWf6susZVF0b4xO87ugU4V9ZiSFbMR4IDwuYLDH4KIf6BsQ==", "friend_id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.2ms)[0m  SELECT  "applies".* FROM "applies" WHERE "applies"."user_id" = ? AND "applies"."friend_id" IS NULL LIMIT 1  [["user_id", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)

NoMethodError (undefined method `destroy' for nil:NilClass):
  app/controllers/friendships_controller.rb:7:in `create'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.8ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (18.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (26.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 09:53:42 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.1ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (17.4ms)
  Rendered chats/index.html.erb within layouts/application (17.9ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 94ms (Views: 66.3ms | ActiveRecord: 1.5ms)


Started GET "/assets/application.self-fc5ef4014c165b083930c31c5bb5af2d68792bf18ff206787252a5c23a225da0.css?body=1" for 127.0.0.1 at 2018-01-08 09:53:43 +0800


Started GET "/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" for 127.0.0.1 at 2018-01-08 09:53:43 +0800


Started GET "/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1" for 127.0.0.1 at 2018-01-08 09:53:43 +0800


Started GET "/assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1" for 127.0.0.1 at 2018-01-08 09:53:43 +0800


Started GET "/assets/bootstrap.min.self-504d59678f10d79a661b6cecdce5b8c1d5bfd98e860614584c0a40399552d61f.js?body=1" for 127.0.0.1 at 2018-01-08 09:53:43 +0800


Started GET "/assets/bootstrap.file-input.self-467aac2b264df4efd6b902977182473cd79513a25b2028999facfa8ab1133fec.js?body=1" for 127.0.0.1 at 2018-01-08 09:53:43 +0800


Started GET "/assets/sync.self-570ed504e84206f050c8bc30d052d71600f341b859ea362960c1fc810fcbb46a.js?body=1" for 127.0.0.1 at 2018-01-08 09:53:43 +0800


Started GET "/assets/select2.min.self-29080377793c2a531be0bad7d46aa3fcf1ede0008ebf68b1e4f97927f368ac38.js?body=1" for 127.0.0.1 at 2018-01-08 09:53:43 +0800


Started GET "/assets/toastr.min.self-d1e748daa450eccf497f106231f0e799b278d085d431d75f1df5eef9968808bd.js?body=1" for 127.0.0.1 at 2018-01-08 09:53:43 +0800


Started GET "/assets/application.self-10ad0916cf31256fe71785e8dc9cc297a96b1cdf7b74aeb61711199b9a3d003f.js?body=1" for 127.0.0.1 at 2018-01-08 09:53:43 +0800


Started GET "/assets/user-icon-59b0a754a338d30a655e86d27205a3c685c0c9b10d77e3a997dcf2bca92c9b1b.png" for 127.0.0.1 at 2018-01-08 09:53:43 +0800


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 09:53:44 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '4')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '11')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '12')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '13')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '5')[0m
Completed 200 OK in 10ms (Views: 0.8ms | ActiveRecord: 1.1ms)


Started POST "/friendships?friend_id=5" for 127.0.0.1 at 2018-01-08 09:53:45 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"tfLtmMdmRnaiCrnAIvaG3wXQJuf0pGGPXNt5U+mz2GX8xaY5SrmrArZ9yVbadZH8wx1IQKpQPMmmu6gQZA4AKg==", "friend_id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT  "applies".* FROM "applies" WHERE "applies"."user_id" = ? AND "applies"."friend_id" = ? LIMIT 1[0m  [["user_id", 1], ["friend_id", 5]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "applies" WHERE "applies"."id" = ?[0m  [["id", 5]]
  [1m[35m (123.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["friend_id", 5], ["user_id", 1], ["created_at", "2018-01-08 01:53:46.058555"], ["updated_at", "2018-01-08 01:53:46.058555"]]
  [1m[36m (95.5ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/chats
Completed 302 Found in 230ms (ActiveRecord: 220.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 09:53:46 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.1ms)
  Rendered chats/index.html.erb within layouts/application (5.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 36ms (Views: 33.7ms | ActiveRecord: 0.2ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 09:54:04 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.3ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '4')
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '11')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '12')
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '13')[0m
Completed 200 OK in 10ms (Views: 1.6ms | ActiveRecord: 1.4ms)


Started GET "/" for 127.0.0.1 at 2018-01-08 14:26:37 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (3.9ms)
  Rendered layouts/_login_panel.html.erb (15.0ms)
  Rendered layouts/_header.html.erb (16.4ms)
  Rendered layouts/_content.html.erb (0.5ms)
Completed 200 OK in 2256ms (Views: 2237.3ms | ActiveRecord: 0.0ms)


Started GET "/assets/bootstrap/glyphicons-halflings-regular-fe185d11a49676890d47bb783312a0cda5a44c4039214094e7957b4c040ef11c.woff2" for 127.0.0.1 at 2018-01-08 14:26:44 +0800


Started POST "/sessions/login" for 127.0.0.1 at 2018-01-08 14:27:01 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"I/wcUZ7ppCGWt4wrHOFlBTJynKyXpgDsuFzB3tnM8tFqgUa/HpdE162Ejaste2w6C//EOAAF/TNmuaMVwVnyEA==", "session"=>{"email"=>"user1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "button"=>""}
  [1m[35mUser Load (12.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user1@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (14.9ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$10$FIjigTQ4H8/LVBHi1XDWHekU2MQgYZcoXaVljUP.jv0WIJ/wiYEuK"], ["updated_at", "2018-01-08 06:27:01.468128"], ["id", 1]]
  [1m[36m (83.9ms)[0m  [1mcommit transaction[0m
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 454ms (ActiveRecord: 111.2ms)


Started GET "/" for 127.0.0.1 at 2018-01-08 14:27:01 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  Rendered homes/home.html.erb within layouts/application (0.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 30ms (Views: 29.9ms | ActiveRecord: 0.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 14:27:07 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (8.6ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (5.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.4ms)
  Rendered chats/_search_fridends.html.erb (0.6ms)
  Rendered chats/_navside.html.erb (51.6ms)
  Rendered chats/index.html.erb within layouts/application (61.1ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.2ms)
Completed 200 OK in 276ms (Views: 87.2ms | ActiveRecord: 14.4ms)


Started GET "/assets/user-icon-59b0a754a338d30a655e86d27205a3c685c0c9b10d77e3a997dcf2bca92c9b1b.png" for 127.0.0.1 at 2018-01-08 14:27:07 +0800


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 14:27:12 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '4')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '11')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '12')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '13')
Completed 200 OK in 43ms (Views: 9.4ms | ActiveRecord: 0.9ms)


Started GET "/users/index_json?query=user10" for 127.0.0.1 at 2018-01-08 14:27:39 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user10"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user10%')  [["user_id", 1]]
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.4ms)


Started POST "/applies?friend_id=10" for 127.0.0.1 at 2018-01-08 14:27:42 +0800

SyntaxError (/home/runtu/pro/soft_engneering/RailsChat/app/controllers/applies_controller.rb:46: syntax error, unexpected keyword_end, expecting end-of-input):
  app/controllers/applies_controller.rb:46: syntax error, unexpected keyword_end, expecting end-of-input


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (27.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (458.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (473.8ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 14:29:48 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (19.0ms)
  Rendered chats/index.html.erb within layouts/application (19.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 79ms (Views: 51.7ms | ActiveRecord: 1.7ms)


Started GET "/users/index_json?query=user10" for 127.0.0.1 at 2018-01-08 14:30:06 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user10"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user10%')  [["user_id", 1]]
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.4ms)


Started POST "/applies?friend_id=10" for 127.0.0.1 at 2018-01-08 14:30:07 +0800
Processing by AppliesController#create as HTML
  Parameters: {"authenticity_token"=>"sSOEd0eCRE22erGe95elgAc3i3940zEsZg5FssI4nD34Xt6Zx/yku41JsB7GDay/PrrT6+9wzPO46yd52q2c/A==", "friend_id"=>"10"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "applies" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["friend_id", 10], ["user_id", 1], ["created_at", "2018-01-08 06:30:07.921102"], ["updated_at", "2018-01-08 06:30:07.921102"]]
  [1m[35m (122.7ms)[0m  commit transaction
Redirected to http://0.0.0.0:3000/chats
Completed 302 Found in 169ms (ActiveRecord: 123.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 14:30:08 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.8ms)
  Rendered chats/index.html.erb within layouts/application (6.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 37ms (Views: 34.5ms | ActiveRecord: 0.3ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 14:30:13 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id = '1')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '4')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '11')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '12')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '13')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '10')[0m
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 0.8ms)


Started GET "/" for 127.0.0.1 at 2018-01-08 14:30:47 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 33ms (Views: 32.2ms | ActiveRecord: 0.0ms)


Started GET "/assets/application.self-fc5ef4014c165b083930c31c5bb5af2d68792bf18ff206787252a5c23a225da0.css?body=1" for 127.0.0.1 at 2018-01-08 14:30:47 +0800


Started GET "/assets/jquery.self-bd7ddd393353a8d2480a622e80342adf488fb6006d667e8b42e4c0073393abee.js?body=1" for 127.0.0.1 at 2018-01-08 14:30:47 +0800


Started GET "/assets/jquery_ujs.self-784a997f6726036b1993eb2217c9cb558e1cbb801c6da88105588c56f13b466a.js?body=1" for 127.0.0.1 at 2018-01-08 14:30:47 +0800


Started GET "/assets/turbolinks.self-c5acd7a204f5f25ce7a1d8a0e4d92e28d34c9e2df2c7371cd7af88e147e4ad82.js?body=1" for 127.0.0.1 at 2018-01-08 14:30:47 +0800


Started GET "/assets/bootstrap.min.self-504d59678f10d79a661b6cecdce5b8c1d5bfd98e860614584c0a40399552d61f.js?body=1" for 127.0.0.1 at 2018-01-08 14:30:47 +0800


Started GET "/assets/bootstrap.file-input.self-467aac2b264df4efd6b902977182473cd79513a25b2028999facfa8ab1133fec.js?body=1" for 127.0.0.1 at 2018-01-08 14:30:47 +0800


Started GET "/assets/sync.self-570ed504e84206f050c8bc30d052d71600f341b859ea362960c1fc810fcbb46a.js?body=1" for 127.0.0.1 at 2018-01-08 14:30:47 +0800


Started GET "/assets/select2.min.self-29080377793c2a531be0bad7d46aa3fcf1ede0008ebf68b1e4f97927f368ac38.js?body=1" for 127.0.0.1 at 2018-01-08 14:30:47 +0800


Started GET "/assets/toastr.min.self-d1e748daa450eccf497f106231f0e799b278d085d431d75f1df5eef9968808bd.js?body=1" for 127.0.0.1 at 2018-01-08 14:30:48 +0800


Started GET "/assets/application.self-10ad0916cf31256fe71785e8dc9cc297a96b1cdf7b74aeb61711199b9a3d003f.js?body=1" for 127.0.0.1 at 2018-01-08 14:30:48 +0800


Started GET "/assets/bootstrap/glyphicons-halflings-regular-fe185d11a49676890d47bb783312a0cda5a44c4039214094e7957b4c040ef11c.woff2" for 127.0.0.1 at 2018-01-08 14:30:49 +0800


Started POST "/sessions/login" for 127.0.0.1 at 2018-01-08 14:31:08 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"4A9OomSudYT3/4/qx1IX92GgO1+0zV3P8/v4Ok1Il7iUXJlOKrpmVaawpCu4j+g44a7acuCAZ2H2in3Fsozmvw==", "session"=>{"email"=>"user10@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "button"=>""}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user10@test.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$10$51R/vXrAa/OwHH6M1QfZA.FQYG7OgB1xqveIdGbVu5ynhOZwYvkYO"], ["updated_at", "2018-01-08 06:31:08.515765"], ["id", 10]]
  [1m[36m (178.4ms)[0m  [1mcommit transaction[0m
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 304ms (ActiveRecord: 178.9ms)


Started GET "/" for 127.0.0.1 at 2018-01-08 14:31:08 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 10]]
  Rendered homes/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 30ms (Views: 29.5ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 14:31:12 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 10]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 10]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 10]]
  Rendered chats/_new_friends.html.erb (0.1ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (2.4ms)
  Rendered chats/index.html.erb within layouts/application (3.0ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 53ms (Views: 50.1ms | ActiveRecord: 0.3ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 14:31:14 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id = '10')
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)


Started GET "/users/index_json?query=user15" for 127.0.0.1 at 2018-01-08 14:34:00 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user15"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user15%')  [["user_id", 1]]
Completed 200 OK in 8ms (Views: 0.5ms | ActiveRecord: 0.7ms)


Started POST "/applies?friend_id=15" for 127.0.0.1 at 2018-01-08 14:34:05 +0800
Processing by AppliesController#create as HTML
  Parameters: {"authenticity_token"=>"tkR/uZ5IxhPhkkRFyEiu0cSOyoGbAvidRxf1EvmA7Vr/OSVXHjYm5dqhRcX50qfu/QOSFQyhBUKZ8pfZ4RXtmw==", "friend_id"=>"15"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "applies" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["friend_id", 15], ["user_id", 1], ["created_at", "2018-01-08 06:34:05.506618"], ["updated_at", "2018-01-08 06:34:05.506618"]]
  [1m[35m (156.6ms)[0m  commit transaction
Redirected to http://0.0.0.0:3000/chats
Completed 302 Found in 163ms (ActiveRecord: 157.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 14:34:05 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (8.6ms)
  Rendered chats/index.html.erb within layouts/application (9.2ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 49ms (Views: 46.1ms | ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 14:37:01 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (24.8ms)
  Rendered chats/index.html.erb within layouts/application (25.4ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 107ms (Views: 75.2ms | ActiveRecord: 1.8ms)


Started GET "/users/index_json?query=user16" for 127.0.0.1 at 2018-01-08 14:37:13 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user16"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user16%')  [["user_id", 1]]
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.4ms)


Started POST "/applies?friend_id=16" for 127.0.0.1 at 2018-01-08 14:37:16 +0800
Processing by AppliesController#create as HTML
  Parameters: {"authenticity_token"=>"wgcztuY1go3I0ALEzSl2+CA25kFNaYeAHF3iPOyHMnSLemlYZktie/PjA0T8s3/HGbu+1drKel/CuID39BIytQ==", "friend_id"=>"16"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "applies" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["friend_id", 16], ["user_id", 1], ["created_at", "2018-01-08 06:37:16.150669"], ["updated_at", "2018-01-08 06:37:16.150669"]]
  [1m[35m (99.9ms)[0m  commit transaction
Redirected to http://0.0.0.0:3000/chats
Completed 302 Found in 112ms (ActiveRecord: 100.4ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 14:37:16 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.3ms)
  Rendered chats/index.html.erb within layouts/application (6.9ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 46ms (Views: 43.1ms | ActiveRecord: 0.3ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 14:37:18 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.friend_id = '1')
Completed 200 OK in 2ms (Views: 0.5ms | ActiveRecord: 0.2ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-01-08 14:37:28 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"emwcFeAO7Acq6J/NvI1UYTP/kp33oeiMon3F5qbCySEOP8v5rhr/1nuntAzDUKuus/FzsKPs0iKnDEAZWQa4Jg=="}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", nil], ["updated_at", "2018-01-08 06:37:28.312950"], ["id", 10]]
  [1m[35m (103.1ms)[0m  commit transaction
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 108ms (ActiveRecord: 103.6ms)


Started GET "/" for 127.0.0.1 at 2018-01-08 14:37:28 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 37ms (Views: 36.3ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-01-08 14:37:34 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6Ov3STNCQi0CWQeir95qIzU9zVqBQPKlvbLJAgIPp0CcuCClfVZR/FMWLGPQA5XstTMsd9UNyAu4w0z9/cvWRw==", "session"=>{"email"=>"user16@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user16@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 65ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-01-08 14:37:34 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 16]]
  Rendered homes/home.html.erb within layouts/application (0.6ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 46ms (Views: 44.9ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 14:37:38 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 16]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 16]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 16]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (2.2ms)
  Rendered chats/index.html.erb within layouts/application (2.7ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 52ms (Views: 47.0ms | ActiveRecord: 0.4ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 14:37:39 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mApply Load (0.1ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.friend_id = '16')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '1')[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started GET "/users/index_json?query=user20" for 127.0.0.1 at 2018-01-08 14:37:57 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user20"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user20%')[0m  [["user_id", 1]]
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.4ms)


Started POST "/applies?friend_id=20" for 127.0.0.1 at 2018-01-08 14:37:59 +0800
Processing by AppliesController#create as HTML
  Parameters: {"authenticity_token"=>"fH6H9ZR+Pj+zO69OGV/eGvV7A8aYbrA/3HbGxrxbi/E1A90bFADeyYgIrs4oxdclzPZbUg/NTeACk6QNpM6LMA==", "friend_id"=>"20"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "applies" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["friend_id", 20], ["user_id", 1], ["created_at", "2018-01-08 06:37:59.832078"], ["updated_at", "2018-01-08 06:37:59.832078"]]
  [1m[36m (183.5ms)[0m  [1mcommit transaction[0m
Redirected to http://0.0.0.0:3000/chats
Completed 302 Found in 190ms (ActiveRecord: 184.0ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 14:38:00 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.9ms)
  Rendered chats/index.html.erb within layouts/application (7.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 46ms (Views: 43.4ms | ActiveRecord: 0.4ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 14:38:03 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.friend_id = '1')[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-01-08 14:38:08 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"HumN6F4QNymqE8nPjKR2BEuAG5McKwTAF2tx3VC3bC5quloEEAQk+Ptc4g7zeYnLy476vkhmPm4SGvQir3MdKQ=="}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-01-08 14:38:08 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (0.1ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 29ms (Views: 28.9ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-01-08 14:38:16 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Ekm6DdyFLlb83Eugca5yVWQNzTf+Dr/IFNHWzFI5PNtmGm3hkpE9h62TYGEOc42a5AMsGqpDhWYRoFMzrf1N3A==", "session"=>{"email"=>"user20@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user20@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 66ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-01-08 14:38:16 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  Rendered homes/home.html.erb within layouts/application (0.4ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 31ms (Views: 30.7ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 14:38:19 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 20]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 20]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 20]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (1.9ms)
  Rendered chats/index.html.erb within layouts/application (2.3ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 42ms (Views: 37.4ms | ActiveRecord: 0.4ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 14:38:21 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.friend_id = '20')
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '1')[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.5ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2018-01-08 14:38:25 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"8ZrXLf5EOAkb8IzyaJxwkMo+5DKsKXLY6RyM+NaC+7WFyQDBsFAr2Eq/pzMXQY9fSjAFH/hkSHbsbQkHKUaKsg==", "friend_id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT  "applies".* FROM "applies" WHERE "applies"."user_id" = ? AND "applies"."friend_id" = ? LIMIT 1[0m  [["user_id", 20], ["friend_id", 1]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)

NoMethodError (undefined method `destroy' for nil:NilClass):
  app/controllers/friendships_controller.rb:7:in `create'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (20.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (14.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (27.2ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 14:39:19 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mApply Load (0.3ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.friend_id = '20')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '1')
Completed 200 OK in 27ms (Views: 0.4ms | ActiveRecord: 1.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 14:39:24 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 20]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 20]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 20]]
  Rendered chats/_new_friends.html.erb (0.1ms)
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (14.2ms)
  Rendered chats/index.html.erb within layouts/application (14.8ms)
  Rendered layouts/_login_panel.html.erb (0.9ms)
  Rendered layouts/_header.html.erb (2.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 65ms (Views: 51.6ms | ActiveRecord: 1.1ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 14:39:26 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.friend_id = '20')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '1')[0m
Completed 200 OK in 3ms (Views: 0.5ms | ActiveRecord: 0.4ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2018-01-08 14:39:28 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"XZ5+BxFflrXufHxrT5xrkoto3f5TItMAb/ydc73lPVIpzanrX0uFZL8zV6owQZRdC2Y80wdv6a5qjRiMQiFMVQ==", "friend_id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT  "applies".* FROM "applies" WHERE "applies"."user_id" = ? AND "applies"."user_id" IS NULL LIMIT 1[0m  [["user_id", 20]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.2ms)

NoMethodError (undefined method `destroy' for nil:NilClass):
  app/controllers/friendships_controller.rb:7:in `create'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (18.8ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (36.6ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 14:48:15 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 20]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 20]]
  [1m[36mChat Load (0.2ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 20]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (11.9ms)
  Rendered chats/index.html.erb within layouts/application (12.3ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 67ms (Views: 42.1ms | ActiveRecord: 1.4ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 14:48:17 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.friend_id = '20')[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '1')
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 0.8ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2018-01-08 14:48:21 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"AzsgWk4sHiXFfyMTV7sVraU0q0xycFRnRZ50sJOBze93aPe2ADgN9JQwCNIoZupiJTpKYSY9bslA7/FPbEW86A==", "friend_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mApply Load (0.1ms)[0m  SELECT  "applies".* FROM "applies" WHERE "applies"."user_id" = ? AND "applies"."friend_id" = ? AND "applies"."user_id" = ? LIMIT 1  [["user_id", 20], ["friend_id", 1], ["user_id", 20]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)

NoMethodError (undefined method `destroy' for nil:NilClass):
  app/controllers/friendships_controller.rb:7:in `create'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (19.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (26.4ms)
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT  "applies".* FROM "applies"  ORDER BY "applies"."id" ASC LIMIT 1[0m
  [1m[35mApply Load (0.4ms)[0m  SELECT  "applies".* FROM "applies"  ORDER BY "applies"."id" ASC LIMIT 1


Started GET "/chats" for 127.0.0.1 at 2018-01-08 14:52:01 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 20]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 20]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 20]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (12.3ms)
  Rendered chats/index.html.erb within layouts/application (12.8ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 68ms (Views: 41.2ms | ActiveRecord: 1.5ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 14:52:04 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mApply Load (0.1ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.friend_id = '20')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '1')[0m
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 0.5ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2018-01-08 14:52:06 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"KUA4+Ao77Cs4i/32VkvI6U3hqS90o4OEF4fJvmLzX4BdE+8URC//+mnE1jcpljcmze9IAiDuuSoS9kxBnTcuhw==", "friend_id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)

ArgumentError (wrong number of arguments (0 for 1)):
  app/controllers/friendships_controller.rb:8:in `create'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (13.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (30.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (25.9ms)
  [1m[36mApply Load (2.2ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.friend_id=1)[0m
  [1m[35mApply Load (0.3ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.friend_id=1)
  [1m[36mApply Load (0.4ms)[0m  [1mSELECT "applies".* FROM "applies"[0m
  [1m[35mApply Load (0.4ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.friend_id=21)
  [1m[36mApply Load (0.4ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.friend_id=20)[0m
  [1m[35mApply Load (0.4ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id=1)
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id=1 and applies.friend_id= 21)[0m
  [1m[35mApply Load (0.3ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id=1 and applies.friend_id= 20)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 14:56:10 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 20]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 20]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 20]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (12.0ms)
  Rendered chats/index.html.erb within layouts/application (12.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 68ms (Views: 45.0ms | ActiveRecord: 1.5ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 14:56:12 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mApply Load (0.3ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.friend_id = '20')
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '1')[0m
Completed 200 OK in 9ms (Views: 0.4ms | ActiveRecord: 0.7ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2018-01-08 14:56:14 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"jcUs6/Tzll/jNK2XsQbzYaS/29KNbOmNmGOEaKc8k9r5lvsHuueFjrJ7hlbO2wyuJLE6/9kh0yOdEgGXWPji3Q==", "friend_id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)

ArgumentError (wrong number of arguments (0 for 1)):
  app/controllers/friendships_controller.rb:8:in `create'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.0ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (19.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (26.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 14:57:28 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 20]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 20]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 20]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (11.2ms)
  Rendered chats/index.html.erb within layouts/application (11.7ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 67ms (Views: 43.6ms | ActiveRecord: 1.4ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 14:57:30 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.friend_id = '20')
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '1')[0m
Completed 200 OK in 9ms (Views: 0.4ms | ActiveRecord: 0.8ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2018-01-08 14:57:31 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"C8pd52Kctytk0FFjw2ADlkiDCUTGbEUib+mjHh3neSJ/mYoLLIik+jWfeqK8vfxZyI3oaZIhf4xqmCbh4iMIJQ==", "friend_id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)

ArgumentError (wrong number of arguments (0 for 1)):
  app/controllers/friendships_controller.rb:8:in `create'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (18.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.8ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (26.6ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 15:00:11 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 20]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 20]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 20]]
  Rendered chats/_new_friends.html.erb (0.1ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (11.9ms)
  Rendered chats/index.html.erb within layouts/application (12.3ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 68ms (Views: 42.3ms | ActiveRecord: 1.5ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 15:00:14 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.friend_id = '20')
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '1')[0m
Completed 200 OK in 7ms (Views: 0.3ms | ActiveRecord: 0.6ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2018-01-08 15:00:15 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"LpZW6qxO6qVQx5Bu9m2n0GZU0tarbxCp5OPd/MA/1GZaxYEG4lr5dAGIu6+JsFgf5loz+/8iKgfhklgDP/ulYQ==", "friend_id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)

ArgumentError (wrong number of arguments (0 for 1)):
  app/controllers/friendships_controller.rb:10:in `create'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (20.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (26.4ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 15:01:26 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 20]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 20]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 20]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (10.9ms)
  Rendered chats/index.html.erb within layouts/application (11.4ms)
  Rendered layouts/_login_panel.html.erb (0.5ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 66ms (Views: 40.5ms | ActiveRecord: 1.5ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 15:01:29 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.friend_id = '20')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '1')[0m
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 0.6ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2018-01-08 15:01:31 +0800

SyntaxError (/home/runtu/pro/soft_engneering/RailsChat/app/controllers/friendships_controller.rb:8: syntax error, unexpected ',', expecting ')'
...riend_id = #{current_user.id}", params[:friend_id])
...                               ^
/home/runtu/pro/soft_engneering/RailsChat/app/controllers/friendships_controller.rb:8: syntax error, unexpected ')', expecting keyword_end):
  app/controllers/friendships_controller.rb:8: syntax error, unexpected ',', expecting ')'
  app/controllers/friendships_controller.rb:8: syntax error, unexpected ')', expecting keyword_end


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (20.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (14.0ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (27.0ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 15:04:32 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 20]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 20]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 20]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (11.5ms)
  Rendered chats/index.html.erb within layouts/application (12.0ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 68ms (Views: 41.9ms | ActiveRecord: 1.5ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 15:04:34 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.friend_id = '20')[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '1')
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 0.6ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2018-01-08 15:04:35 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"Crr6kpD0tJmw0yWeUcwdWxgs6M1YL2XDJOCINRrpNux+6S1+3uCnSOGcDl8uEeKUmCIJ4AxiX20hkQ3K5S1H6w==", "friend_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)

ArgumentError (wrong number of arguments (0 for 1)):
  app/controllers/friendships_controller.rb:10:in `create'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.8ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (20.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (14.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (27.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 15:06:09 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 20]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 20]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 20]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (10.1ms)
  Rendered chats/index.html.erb within layouts/application (10.5ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.8ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 76ms (Views: 52.3ms | ActiveRecord: 1.4ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 15:06:10 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.friend_id = '20')[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '1')
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 0.5ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2018-01-08 15:06:12 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"Lps85e1QJKdljrxmY+MbLilMFjvo1FtlFNDZxM1qfVJayOsJo0Q3djTBl6ccPuThqUL3FryZYcsRoVw7Mq4MVQ==", "friend_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mApply Load (0.1ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id = 1 and applies.friend_id = 20)
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)

ArgumentError (wrong number of arguments (0 for 1)):
  app/controllers/friendships_controller.rb:11:in `create'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.0ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (19.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (14.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (27.1ms)
  [1m[36mApply Load (1.3ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = 1 and applies.friend_id=20)[0m
  [1m[35mApply Load (0.4ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id = 1 and applies.friend_id=20)
  [1m[36mApply Load (0.4ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = 1 and applies.friend_id=20)[0m
  [1m[35mApply Load (0.2ms)[0m  SELECT  "applies".* FROM "applies" WHERE "applies"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "applies" WHERE "applies"."id" = ?  [["id", 9]]
  [1m[36m (111.0ms)[0m  [1mcommit transaction[0m


Started GET "/chats" for 127.0.0.1 at 2018-01-08 15:14:39 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 20]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 20]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 20]]
  Rendered chats/_new_friends.html.erb (0.5ms)
  Rendered chats/_search_fridends.html.erb (0.8ms)
  Rendered chats/_navside.html.erb (13.7ms)
  Rendered chats/index.html.erb within layouts/application (16.6ms)
  Rendered layouts/_login_panel.html.erb (4.4ms)
  Rendered layouts/_header.html.erb (6.7ms)
  Rendered layouts/_content.html.erb (0.5ms)
Completed 200 OK in 483ms (Views: 426.5ms | ActiveRecord: 1.3ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 15:14:41 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.friend_id = '20')[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 15:14:48 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (8.6ms)
  Rendered chats/index.html.erb within layouts/application (9.1ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 45ms (Views: 39.5ms | ActiveRecord: 0.5ms)


Started GET "/users/index_json?query=user20" for 127.0.0.1 at 2018-01-08 15:14:58 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user20"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user20%')[0m  [["user_id", 1]]
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.5ms)


Started POST "/applies?friend_id=20" for 127.0.0.1 at 2018-01-08 15:14:59 +0800
Processing by AppliesController#create as HTML
  Parameters: {"authenticity_token"=>"aPVlCMaV9GwzIt5eCgHzVO/55ACuvGJrHhl/BnZo4JIhiD/mRusUmggR3947m/pr1nS8lDkfn7TA/B3Nbv3gUw==", "friend_id"=>"20"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "applies" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["friend_id", 20], ["user_id", 1], ["created_at", "2018-01-08 07:14:59.326989"], ["updated_at", "2018-01-08 07:14:59.326989"]]
  [1m[36m (142.3ms)[0m  [1mcommit transaction[0m
Redirected to http://0.0.0.0:3000/chats
Completed 302 Found in 156ms (ActiveRecord: 142.9ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 15:14:59 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.2ms)
  Rendered chats/_navside.html.erb (6.9ms)
  Rendered chats/index.html.erb within layouts/application (7.4ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 42ms (Views: 39.2ms | ActiveRecord: 0.3ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 15:15:04 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.friend_id = '20')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '1')
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.6ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2018-01-08 15:15:06 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"nHRp+P6pwYnUpi7qejymusRV2lpmv60zD7c8sFEAF+PoJ74UsL3SWIXpBSsF4Vl1RFs7dzLyl50KxrlPrsRm5A==", "friend_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mApply Load (0.1ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id = 1 and applies.friend_id = 20)
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)

NoMethodError (undefined method `id' for #<Apply::ActiveRecord_Relation:0x00559b7972c058>):
  app/controllers/friendships_controller.rb:9:in `create'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.5ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (336.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (349.9ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 15:15:48 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mApply Load (0.1ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.friend_id = '20')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '1')[0m
Completed 200 OK in 24ms (Views: 0.4ms | ActiveRecord: 1.1ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2018-01-08 15:15:50 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"nHRp+P6pwYnUpi7qejymusRV2lpmv60zD7c8sFEAF+PoJ74UsL3SWIXpBSsF4Vl1RFs7dzLyl50KxrlPrsRm5A==", "friend_id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = 1 and applies.friend_id = 20)[0m
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms)

NameError (undefined local variable or method `apply' for #<FriendshipsController:0x00559b7c94d208>):
  app/controllers/friendships_controller.rb:9:in `create'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (21.8ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (26.6ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 15:16:18 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.friend_id = '20')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '1')
Completed 200 OK in 24ms (Views: 0.3ms | ActiveRecord: 1.1ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2018-01-08 15:16:20 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"nHRp+P6pwYnUpi7qejymusRV2lpmv60zD7c8sFEAF+PoJ74UsL3SWIXpBSsF4Vl1RFs7dzLyl50KxrlPrsRm5A==", "friend_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mApply Load (0.1ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id = 1 and applies.friend_id = 20)
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)

NoMethodError (undefined method `id' for #<Apply::ActiveRecord_Relation:0x00559b7db2a020>):
  app/controllers/friendships_controller.rb:9:in `create'


  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/actionpack-4.2.5.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (19.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/console.js.erb within layouts/javascript (13.6ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /home/runtu/.rvm/gems/ruby-2.2.4/gems/web-console-2.3.0/lib/web_console/templates/index.html.erb (27.5ms)
  [1m[36mApply Load (2.0ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id=1 and applies.friend_id= 20)[0m
  [1m[35mApply Load (0.4ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id=1 and applies.friend_id= 20)
  [1m[36mApply Load (0.4ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id=1 and applies.friend_id= 20)[0m
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id=1 and applies.friend_id= 20)
  [1m[36mApply Load (0.3ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id=1 and applies.friend_id= 20)[0m


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 15:27:39 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.friend_id = '20')[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '1')
Completed 200 OK in 41ms (Views: 0.4ms | ActiveRecord: 0.9ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2018-01-08 15:27:41 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"nHRp+P6pwYnUpi7qejymusRV2lpmv60zD7c8sFEAF+PoJ74UsL3SWIXpBSsF4Vl1RFs7dzLyl50KxrlPrsRm5A==", "friend_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mApply Load (0.1ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id = 1 and applies.friend_id = 20)
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT  "applies".* FROM "applies" WHERE "applies"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "applies" WHERE "applies"."id" = ?[0m  [["id", 10]]
  [1m[35m (113.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["friend_id", 1], ["user_id", 20], ["created_at", "2018-01-08 07:27:41.942021"], ["updated_at", "2018-01-08 07:27:41.942021"]]
  [1m[36m (93.7ms)[0m  [1mcommit transaction[0m
Redirected to http://0.0.0.0:3000/chats
Completed 302 Found in 229ms (ActiveRecord: 208.6ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 15:27:42 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 20]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 20]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 20]]
  Rendered chats/_new_friends.html.erb (0.3ms)
  Rendered chats/_search_fridends.html.erb (0.4ms)
  Rendered chats/_navside.html.erb (381.1ms)
  Rendered chats/index.html.erb within layouts/application (384.3ms)
  Rendered layouts/_login_panel.html.erb (4.1ms)
  Rendered layouts/_header.html.erb (6.0ms)
  Rendered layouts/_content.html.erb (0.4ms)
Completed 200 OK in 447ms (Views: 433.7ms | ActiveRecord: 0.8ms)


Started GET "/assets/user-icon-59b0a754a338d30a655e86d27205a3c685c0c9b10d77e3a997dcf2bca92c9b1b.png" for 127.0.0.1 at 2018-01-08 15:27:42 +0800


Started GET "/chats" for 127.0.0.1 at 2018-01-08 15:27:53 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (9.7ms)
  Rendered chats/index.html.erb within layouts/application (10.5ms)
  Rendered layouts/_login_panel.html.erb (1.1ms)
  Rendered layouts/_header.html.erb (2.6ms)
  Rendered layouts/_content.html.erb (0.3ms)
Completed 200 OK in 52ms (Views: 46.7ms | ActiveRecord: 0.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 15:29:48 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.2ms)
  Rendered chats/index.html.erb within layouts/application (7.8ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 41ms (Views: 38.2ms | ActiveRecord: 0.4ms)


Started GET "/users/index_json?query=user10" for 127.0.0.1 at 2018-01-08 15:30:00 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user10"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user10%')[0m  [["user_id", 1]]
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.5ms)


Started POST "/applies?friend_id=10" for 127.0.0.1 at 2018-01-08 15:30:02 +0800
Processing by AppliesController#create as HTML
  Parameters: {"authenticity_token"=>"CuVAmDp8d5JEBBmZNgphELiwGmRNEPSmv2kIqNq0p+pDmBp2ugKXZH83GBkHkGgvgT1C8NqzCXlhjGpjwiGnKw==", "friend_id"=>"10"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "applies" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["friend_id", 10], ["user_id", 1], ["created_at", "2018-01-08 07:30:02.269027"], ["updated_at", "2018-01-08 07:30:02.269027"]]
  [1m[36m (93.0ms)[0m  [1mcommit transaction[0m
Redirected to http://0.0.0.0:3000/chats
Completed 302 Found in 99ms (ActiveRecord: 93.4ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 15:30:02 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.5ms)
  Rendered chats/index.html.erb within layouts/application (6.9ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 47ms (Views: 44.6ms | ActiveRecord: 0.3ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 15:30:07 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.friend_id = '1')[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-01-08 15:30:12 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"G5wru7jnOb6DlgK0YJmUg6Two7yBSgQyjRs+JWXm3cxvz/xX9vMqb9LZKXUfRGtMJP5CkdUHPpyIarvamiKsyw=="}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-01-08 15:30:12 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (2.9ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 37ms (Views: 36.4ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-01-08 15:30:19 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"5PyelN9jvyWjsWq6dpHwjsME81nNCWz2+2GqzdWfR/SQr0l4kXes9PL+QXsJTA9BQwoSdJlEVlj+EC8yKls28w==", "session"=>{"email"=>"user10@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user10@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 65ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-01-08 15:30:19 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 10]]
  Rendered homes/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 35ms (Views: 34.3ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 15:30:21 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 10]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 10]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 10]]
  Rendered chats/_new_friends.html.erb (0.1ms)
  Rendered chats/_search_fridends.html.erb (0.3ms)
  Rendered chats/_navside.html.erb (2.9ms)
  Rendered chats/index.html.erb within layouts/application (3.6ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 37ms (Views: 33.8ms | ActiveRecord: 0.3ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 15:30:25 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.friend_id = '10')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '1')[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '1')
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.5ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2018-01-08 15:30:34 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"TPurwVcgchkIwGg2R6kUvLcJoGt9K4Ck67IS7GIj5Xc4qHwtGTRhyFmPQ/c4dOtzNwdBRilmugruw5cTneeUcA==", "friend_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id = 1 and applies.friend_id = 10)
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT  "applies".* FROM "applies" WHERE "applies"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "applies" WHERE "applies"."id" = ?[0m  [["id", 6]]
  [1m[35m (135.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["friend_id", 1], ["user_id", 10], ["created_at", "2018-01-08 07:30:35.020754"], ["updated_at", "2018-01-08 07:30:35.020754"]]
  [1m[36m (86.8ms)[0m  [1mcommit transaction[0m
Redirected to http://0.0.0.0:3000/chats
Completed 302 Found in 229ms (ActiveRecord: 223.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 15:30:35 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 10]]
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 10]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 10]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (4.1ms)
  Rendered chats/index.html.erb within layouts/application (4.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 43ms (Views: 40.6ms | ActiveRecord: 0.3ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 15:30:40 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.friend_id = '10')[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE (users.id = '1')
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 15:30:46 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (11.5ms)
  Rendered chats/index.html.erb within layouts/application (12.3ms)
  Rendered layouts/_login_panel.html.erb (0.8ms)
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 58ms (Views: 53.5ms | ActiveRecord: 0.6ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 15:35:03 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.3ms)
  Rendered chats/_search_fridends.html.erb (0.3ms)
  Rendered chats/_navside.html.erb (357.9ms)
  Rendered chats/index.html.erb within layouts/application (360.8ms)
  Rendered layouts/_login_panel.html.erb (4.2ms)
  Rendered layouts/_header.html.erb (5.7ms)
  Rendered layouts/_content.html.erb (0.4ms)
Completed 200 OK in 468ms (Views: 408.4ms | ActiveRecord: 1.6ms)


Started GET "/users/index_json?query=user100" for 127.0.0.1 at 2018-01-08 15:35:15 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user100"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user100%')[0m  [["user_id", 1]]
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.6ms)


Started POST "/applies?friend_id=100" for 127.0.0.1 at 2018-01-08 15:35:16 +0800
Processing by AppliesController#create as HTML
  Parameters: {"authenticity_token"=>"rO5fCKvYEVj5d9tPXu++DjB5IDnbw9dgUJD38ExKCLPlkwXmK6bxrsJE2s9vdbcxCfR4rUxgKr+OdZU7VN8Icg==", "friend_id"=>"100"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = 100 and applies.friend_id = 1)[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "applies" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["friend_id", 100], ["user_id", 1], ["created_at", "2018-01-08 07:35:16.478682"], ["updated_at", "2018-01-08 07:35:16.478682"]]
  [1m[35m (110.0ms)[0m  commit transaction
Redirected to http://0.0.0.0:3000/chats
Completed 302 Found in 124ms (ActiveRecord: 110.7ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 15:35:16 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.1ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (6.9ms)
  Rendered chats/index.html.erb within layouts/application (7.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 38ms (Views: 35.3ms | ActiveRecord: 0.3ms)


Started GET "/users/index_json?query=user100" for 127.0.0.1 at 2018-01-08 15:35:24 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user100"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user100%')  [["user_id", 1]]
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started POST "/applies?friend_id=100" for 127.0.0.1 at 2018-01-08 15:35:25 +0800
Processing by AppliesController#create as HTML
  Parameters: {"authenticity_token"=>"iTsF8yut4yfaLj5W46wt1fMHRAOrbVo02MPS1TmA6nTARl8dq9MD0eEdP9bSNiTqyooclzzOp+sGJrAeIRXqtQ==", "friend_id"=>"100"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id = 100 and applies.friend_id = 1)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "applies" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["friend_id", 100], ["user_id", 1], ["created_at", "2018-01-08 07:35:25.525891"], ["updated_at", "2018-01-08 07:35:25.525891"]]
  [1m[36m (95.2ms)[0m  [1mcommit transaction[0m
Redirected to http://0.0.0.0:3000/chats
Completed 302 Found in 101ms (ActiveRecord: 95.8ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 15:35:25 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.5ms)
  Rendered chats/index.html.erb within layouts/application (7.9ms)
  Rendered layouts/_login_panel.html.erb (9.0ms)
  Rendered layouts/_header.html.erb (10.0ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 50ms (Views: 47.2ms | ActiveRecord: 0.3ms)


Started GET "/users/index_json?query=user100" for 127.0.0.1 at 2018-01-08 15:36:51 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user100"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user100%')[0m  [["user_id", 1]]
Completed 200 OK in 25ms (Views: 0.3ms | ActiveRecord: 1.1ms)


Started POST "/applies?friend_id=100" for 127.0.0.1 at 2018-01-08 15:36:52 +0800
Processing by AppliesController#create as HTML
  Parameters: {"authenticity_token"=>"G+gmAB+mtgD/fuBnqA2fcSiARdW9RRwMeRx6N2OVRglSlXzun9hW9sRN4eeZl5ZOEQ0dQSrm4dOn+Rj8ewBGyA==", "friend_id"=>"100"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = 100 and applies.friend_id = 1)[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "applies" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["friend_id", 100], ["user_id", 1], ["created_at", "2018-01-08 07:36:52.729194"], ["updated_at", "2018-01-08 07:36:52.729194"]]
  [1m[35m (154.5ms)[0m  commit transaction
Redirected to http://0.0.0.0:3000/chats
Completed 302 Found in 166ms (ActiveRecord: 155.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 15:36:52 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.2ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (21.2ms)
  Rendered chats/index.html.erb within layouts/application (21.7ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 57ms (Views: 49.9ms | ActiveRecord: 0.9ms)


Started GET "/users/index_json?query=user100" for 127.0.0.1 at 2018-01-08 15:38:00 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user100"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user100%')  [["user_id", 1]]
Completed 200 OK in 22ms (Views: 0.3ms | ActiveRecord: 1.0ms)


Started POST "/applies?friend_id=100" for 127.0.0.1 at 2018-01-08 15:38:02 +0800
Processing by AppliesController#create as HTML
  Parameters: {"authenticity_token"=>"xFJeucMMII1xC30Cec16poTOqDep87rWzdRK9OpfHciNLwRXQ3LAe0o4fIJIV3OZvUPwoz5QRwkTMSg/8sodCQ==", "friend_id"=>"100"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id = 1 and applies.friend_id = 100)
Redirected to http://0.0.0.0:3000/chats
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 15:38:02 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (18.5ms)
  Rendered chats/index.html.erb within layouts/application (18.9ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 55ms (Views: 48.4ms | ActiveRecord: 0.8ms)


Started GET "/users/index_json?query=user10" for 127.0.0.1 at 2018-01-08 15:39:19 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user10"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 10) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 10) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user10%')  [["user_id", 10]]
Completed 200 OK in 24ms (Views: 0.3ms | ActiveRecord: 1.5ms)


Started GET "/users/index_json?query=user100" for 127.0.0.1 at 2018-01-08 15:39:39 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user100"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user100%')  [["user_id", 1]]
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.4ms)


Started POST "/applies?friend_id=100" for 127.0.0.1 at 2018-01-08 15:39:40 +0800
Processing by AppliesController#create as HTML
  Parameters: {"authenticity_token"=>"beyZo7lF89HQKGEB6Tw2bkxZTblKglIJmebIlU89/vckkcNNOTsTJ+sbYIHYpj9RddQVLd0hr9ZHA6peV6j+Ng==", "friend_id"=>"100"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id = 1 and applies.friend_id = 100)
Redirected to http://0.0.0.0:3000/chats
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 15:39:40 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 1]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (19.0ms)
  Rendered chats/index.html.erb within layouts/application (19.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 56ms (Views: 49.6ms | ActiveRecord: 0.8ms)


Started GET "/users/index_json?query=user99" for 127.0.0.1 at 2018-01-08 15:39:52 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user99"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user99%')  [["user_id", 1]]
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.9ms)


Started POST "/applies?friend_id=99" for 127.0.0.1 at 2018-01-08 15:39:53 +0800
Processing by AppliesController#create as HTML
  Parameters: {"authenticity_token"=>"Cfn7D18KWYnKLgv9TGCTg76HnUSeq/ZAoRTDSwAX+nJAhKHh33S5f/EdCn19+pq8hwrF0AkIC59/8aGAGIL6sw==", "friend_id"=>"99"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.user_id = 1 and applies.friend_id = 99)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "applies" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["friend_id", 99], ["user_id", 1], ["created_at", "2018-01-08 07:39:53.272159"], ["updated_at", "2018-01-08 07:39:53.272159"]]
  [1m[36m (115.8ms)[0m  [1mcommit transaction[0m
Redirected to http://0.0.0.0:3000/chats
Completed 302 Found in 124ms (ActiveRecord: 116.4ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 15:39:53 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.0ms)
  Rendered chats/index.html.erb within layouts/application (7.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 38ms (Views: 35.2ms | ActiveRecord: 0.3ms)


Started GET "/users/index_json?query=user99" for 127.0.0.1 at 2018-01-08 15:40:00 +0800
Processing by UsersController#index_json as JSON
  Parameters: {"query"=>"user99"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE ("users"."id" != 1) AND ("users"."id" NOT IN (SELECT "users"."id" FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE ("users"."id" != 1) AND "friendships"."user_id" = ?)) AND (users.name LIKE '%user99%')[0m  [["user_id", 1]]
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.4ms)


Started POST "/applies?friend_id=99" for 127.0.0.1 at 2018-01-08 15:40:01 +0800
Processing by AppliesController#create as HTML
  Parameters: {"authenticity_token"=>"jkO4vZnSBmNhTyNJRqRFp0p+OkvmMjETozNoNnNXnafHPuJTGazmlVp8Isl3PkyYc/Ni33GRzMx91gr9a8KdZg==", "friend_id"=>"99"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = 1 and applies.friend_id = 99)[0m
Redirected to http://0.0.0.0:3000/chats
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 15:40:01 +0800
Processing by ChatsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?  [["friend_id", 1]]
  [1m[36mChat Load (0.1ms)[0m  [1mSELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?[0m  [["user_id", 1]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (7.9ms)
  Rendered chats/index.html.erb within layouts/application (8.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 43ms (Views: 40.5ms | ActiveRecord: 0.3ms)


Started DELETE "/sessions/logout" for 127.0.0.1 at 2018-01-08 15:40:07 +0800
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"a5ncFU9zakqJc5lsoAM6/R8H015ar3lcIFNLX8zvNJIfygv5AWd5m9g8sq3f3sUynwkycw7iQ/IlIs6gMytFlQ=="}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  commit transaction
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/" for 127.0.0.1 at 2018-01-08 15:40:07 +0800
Processing by HomesController#home as HTML
  Rendered homes/home.html.erb within layouts/application (3.0ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.4ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 34ms (Views: 33.7ms | ActiveRecord: 0.0ms)


Started POST "/sessions/login" for 127.0.0.1 at 2018-01-08 15:40:13 +0800
Processing by SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"uo7bB/Nj/ch8p3upKXTpiXNk0WFxt8OJMkORaNxYg0/O3QzrvXfuGS3oUGhWqRZG82owTCX6+Sc3MhSXI5zySA==", "session"=>{"email"=>"user99@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "button"=>""}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user99@test.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mcommit transaction[0m
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 67ms (ActiveRecord: 0.3ms)


Started GET "/" for 127.0.0.1 at 2018-01-08 15:40:13 +0800
Processing by HomesController#home as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 99]]
  Rendered homes/home.html.erb within layouts/application (0.5ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 31ms (Views: 30.7ms | ActiveRecord: 0.1ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 15:40:17 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 99]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 99]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 99]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 99]]
  Rendered chats/_new_friends.html.erb (0.0ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (1.9ms)
  Rendered chats/index.html.erb within layouts/application (2.4ms)
  Rendered layouts/_login_panel.html.erb (0.7ms)
  Rendered layouts/_header.html.erb (1.6ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 38ms (Views: 34.5ms | ActiveRecord: 0.3ms)


Started GET "/users/index_new_friends_json" for 127.0.0.1 at 2018-01-08 15:40:19 +0800
Processing by UsersController#index_new_friends_json as JSON
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 99]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies" WHERE (applies.friend_id = '99')
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE (users.id = '1')[0m
Completed 200 OK in 3ms (Views: 0.4ms | ActiveRecord: 0.4ms)


Started POST "/friendships?friend_id=1" for 127.0.0.1 at 2018-01-08 15:40:21 +0800
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"fi9Dy40MZb/ml46uJnb3AaizKxVmjbaBJ1ToMw8DxWkKfJQnwxh2brfYpW9ZqwjOKL3KODLAjC8iJW3M8Me0bg==", "friend_id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 99]]
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT "applies".* FROM "applies" WHERE (applies.user_id = 1 and applies.friend_id = 99)[0m
  [1m[35mApply Load (0.1ms)[0m  SELECT  "applies".* FROM "applies" WHERE "applies"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "applies" WHERE "applies"."id" = ?  [["id", 15]]
  [1m[36m (125.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "friendships" ("friend_id", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["friend_id", 1], ["user_id", 99], ["created_at", "2018-01-08 07:40:21.992688"], ["updated_at", "2018-01-08 07:40:21.992688"]]
  [1m[35m (84.1ms)[0m  commit transaction
Redirected to http://0.0.0.0:3000/chats
Completed 302 Found in 218ms (ActiveRecord: 210.2ms)


Started GET "/chats" for 127.0.0.1 at 2018-01-08 15:40:22 +0800
Processing by ChatsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 99]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = ?  [["user_id", 99]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."user_id" WHERE "friendships"."friend_id" = ?[0m  [["friend_id", 99]]
  [1m[35mChat Load (0.1ms)[0m  SELECT "chats".* FROM "chats" INNER JOIN "chats_users" ON "chats"."id" = "chats_users"."chat_id" WHERE "chats_users"."user_id" = ?  [["user_id", 99]]
  Rendered chats/_new_friends.html.erb (0.1ms)
  Rendered chats/_search_fridends.html.erb (0.1ms)
  Rendered chats/_navside.html.erb (5.9ms)
  Rendered chats/index.html.erb within layouts/application (6.4ms)
  Rendered layouts/_login_panel.html.erb (0.6ms)
  Rendered layouts/_header.html.erb (1.7ms)
  Rendered layouts/_content.html.erb (0.1ms)
Completed 200 OK in 51ms (Views: 48.5ms | ActiveRecord: 0.3ms)
  [1m[36mApply Load (2.1ms)[0m  [1mSELECT "applies".* FROM "applies"[0m
  [1m[35mApply Load (0.6ms)[0m  SELECT  "applies".* FROM "applies" WHERE "applies"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "applies" WHERE "applies"."id" = ?  [["id", 1]]
  [1m[36m (100.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "applies"
  [1m[36mApply Load (0.4ms)[0m  [1mSELECT "applies".* FROM "applies"[0m
  [1m[35mApply Load (0.3ms)[0m  SELECT "applies".* FROM "applies"
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT  "applies".* FROM "applies" WHERE "applies"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "applies" WHERE "applies"."id" = ?[0m  [["id", 2]]
  [1m[35m (117.0ms)[0m  commit transaction
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT  "applies".* FROM "applies" WHERE "applies"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "applies" WHERE "applies"."id" = ?[0m  [["id", 3]]
  [1m[35m (87.7ms)[0m  commit transaction
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT  "applies".* FROM "applies" WHERE "applies"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "applies" WHERE "applies"."id" = ?[0m  [["id", 4]]
  [1m[35m (109.9ms)[0m  commit transaction
  [1m[36mApply Load (0.1ms)[0m  [1mSELECT  "applies".* FROM "applies" WHERE "applies"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies"
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT  "applies".* FROM "applies" WHERE "applies"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "applies" WHERE "applies"."id" = ?[0m  [["id", 7]]
  [1m[35m (128.9ms)[0m  commit transaction
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT  "applies".* FROM "applies" WHERE "applies"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "applies" WHERE "applies"."id" = ?[0m  [["id", 8]]
  [1m[35m (100.9ms)[0m  commit transaction
  [1m[36mApply Load (0.3ms)[0m  [1mSELECT "applies".* FROM "applies"[0m
  [1m[35mApply Load (0.2ms)[0m  SELECT  "applies".* FROM "applies" WHERE "applies"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "applies" WHERE "applies"."id" = ?  [["id", 11]]
  [1m[36m (118.7ms)[0m  [1mcommit transaction[0m
  [1m[35mApply Load (0.1ms)[0m  SELECT  "applies".* FROM "applies" WHERE "applies"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "applies" WHERE "applies"."id" = ?  [["id", 12]]
  [1m[36m (101.7ms)[0m  [1mcommit transaction[0m
  [1m[35mApply Load (0.2ms)[0m  SELECT  "applies".* FROM "applies" WHERE "applies"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "applies" WHERE "applies"."id" = ?  [["id", 13]]
  [1m[36m (112.6ms)[0m  [1mcommit transaction[0m
  [1m[35mApply Load (0.2ms)[0m  SELECT "applies".* FROM "applies"
  [1m[36mApply Load (0.2ms)[0m  [1mSELECT  "applies".* FROM "applies" WHERE "applies"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "applies" WHERE "applies"."id" = ?[0m  [["id", 14]]
  [1m[35m (125.3ms)[0m  commit transaction
  [1m[36mApply Load (0.3ms)[0m  [1mSELECT "applies".* FROM "applies"[0m
